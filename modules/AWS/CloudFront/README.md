## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | 1.6.2 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | 5.22.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | 5.22.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [aws_cloudfront_cache_policy.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/cloudfront_cache_policy) | resource |
| [aws_cloudfront_distribution.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/cloudfront_distribution) | resource |
| [aws_cloudfront_function.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/cloudfront_function) | resource |
| [aws_cloudfront_monitoring_subscription.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/cloudfront_monitoring_subscription) | resource |
| [aws_cloudfront_realtime_log_config.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/cloudfront_realtime_log_config) | resource |
| [aws_cloudfront_response_headers_policy.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/cloudfront_response_headers_policy) | resource |
| [aws_iam_role.kinesis_for_cloudfront](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/iam_role) | resource |
| [aws_iam_role_policy.kinesis_for_cloudfront](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/iam_role_policy) | resource |
| [aws_s3_bucket.logging](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/s3_bucket) | resource |
| [aws_s3_bucket.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/s3_bucket) | resource |
| [aws_s3_bucket_acl.logging](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/s3_bucket_acl) | resource |
| [aws_s3_bucket_acl.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/s3_bucket_acl) | resource |
| [aws_s3_bucket_ownership_controls.logging](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/s3_bucket_ownership_controls) | resource |
| [aws_s3_bucket_ownership_controls.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/resources/s3_bucket_ownership_controls) | resource |
| [aws_acm_certificate.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/data-sources/acm_certificate) | data source |
| [aws_iam_policy_document.assumerole_cloufront](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/data-sources/iam_policy_document) | data source |
| [aws_iam_policy_document.kinesis_stream](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/data-sources/iam_policy_document) | data source |
| [aws_kinesis_stream.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/data-sources/kinesis_stream) | data source |
| [aws_lambda_function.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/data-sources/lambda_function) | data source |
| [aws_wafv2_web_acl.this](https://registry.terraform.io/providers/hashicorp/aws/5.22.0/docs/data-sources/wafv2_web_acl) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_acm_certificate"></a> [acm\_certificate](#input\_acm\_certificate) | n/a | `string` | `null` | no |
| <a name="input_cache_policy"></a> [cache\_policy](#input\_cache\_policy) | n/a | <pre>list(map(object({<br>    id          = number<br>    name        = string<br>    min_ttl     = number<br>    max_ttl     = optional(number)<br>    default_ttl = optional(number)<br>    comment     = optional(string)<br>    parameters_in_cache_key_and_forwarded_to_origin = optional(list(object({<br>      cookies_config = optional(list(object({<br>        cookie_behavior = optional(string)<br>        items           = optional(list(string))<br>      })), [])<br>      headers_config = optional(list(object({<br>        header_behavior = optional(string)<br>        items           = optional(list(string))<br>      })), [])<br>      query_strings_config = optional(list(object({<br>        query_string_behavior = optional(string)<br>        items                 = optional(list(string))<br>      })), [])<br>      enable_accept_encoding_brotli = optional(bool, false)<br>      enable_accept_encoding_gzip   = optional(bool, false)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_cloudfront_fonction"></a> [cloudfront\_fonction](#input\_cloudfront\_fonction) | n/a | <pre>list(map(object({<br>    id      = number<br>    code    = string<br>    name    = string<br>    runtime = string<br>    comment = optional(string)<br>    publish = optional(bool, false)<br>  })))</pre> | `[]` | no |
| <a name="input_distribution"></a> [distribution](#input\_distribution) | n/a | <pre>list(map(object({<br>    id                  = number<br>    enabled             = bool<br>    aliases             = optional(list(string))<br>    comment             = optional(string)<br>    default_root_object = optional(string)<br>    is_ipv6_enabled     = optional(bool, false)<br>    http_version        = optional(string)<br>    price_class         = optional(string)<br>    web_acl_id          = optional(string)<br>    retain_on_delete    = optional(bool, false)<br>    wait_for_deployment = optional(bool, false)<br>    tags                = optional(map(string))<br>    custom_error_response = optional(list(object({<br>      error_code = number<br>    })), [])<br>    default_cache_behavior = optional(list(object({<br>      allowed_methods            = list(string)<br>      cached_methods             = list(string)<br>      target_origin_id           = string<br>      viewer_protocol_policy     = string<br>      cache_policy_id            = optional(string)<br>      compress                   = optional(bool, false)<br>      default_ttl                = optional(number)<br>      field_level_encryption_id  = optional(string)<br>      max_ttl                    = optional(number)<br>      origin_request_policy_id   = optional(string)<br>      realtime_log_config_arn    = optional(string)<br>      response_headers_policy_id = optional(string)<br>      smooth_streaming           = optional(bool, false)<br>      trusted_key_groups         = optional(list(string))<br>      trusted_signers            = optional(list(string))<br>      forwarded_values = optional(list(object({<br>        query_string            = bool<br>        headers                 = optional(list(string))<br>        query_string_cache_keys = optional(list(string))<br>        cookies = optional(list(object({<br>          forward           = string<br>          whitelisted_names = optional(list(string))<br>        })), [])<br>      })), [])<br>      lambda_function_association = optional(list(object({<br>        event_type   = string<br>        include_body = optional(bool, false)<br>      })), [])<br>      function_association = optional(list(object({<br>        event_type  = string<br>        function_id = number<br>      })), [])<br>    })), [])<br>    logging_config = optional(list(object({<br>      bucket          = string<br>      include_cookies = optional(bool, false)<br>      prefix          = optional(string)<br>    })), [])<br>    ordered_cache_behavior = optional(list(object({<br>      allowed_methods            = list(string)<br>      cached_methods             = list(string)<br>      path_pattern               = string<br>      target_origin_id           = string<br>      viewer_protocol_policy     = string<br>      cache_policy_id            = optional(string)<br>      compress                   = optional(bool, false)<br>      default_ttl                = optional(number)<br>      field_level_encryption_id  = optional(string)<br>      max_ttl                    = optional(number)<br>      origin_request_policy_id   = optional(string)<br>      realtime_log_config_arn    = optional(string)<br>      response_headers_policy_id = optional(string)<br>      smooth_streaming           = optional(bool, false)<br>      trusted_key_groups         = optional(list(string))<br>      trusted_signers            = optional(list(string))<br>      forwarded_values = optional(list(object({<br>        query_string            = bool<br>        headers                 = optional(list(string))<br>        query_string_cache_keys = optional(list(string))<br>        cookies = optional(list(object({<br>          forward           = string<br>          whitelisted_names = optional(list(string))<br>        })), [])<br>      })), [])<br>      lambda_function_association = optional(list(object({<br>        event_type   = string<br>        lambda_arn   = string<br>        include_body = optional(bool, false)<br>      })), [])<br>      function_association = optional(list(object({<br>        event_type   = string<br>        function_arn = string<br>      })), [])<br>    })), [])<br>    origin = optional(list(object({<br>      domain_name              = string<br>      origin_id                = string<br>      connection_attempts      = optional(number)<br>      connection_timeout       = optional(number)<br>      origin_access_control_id = optional(string)<br>      origin_path              = optional(string)<br>      custom_origin_config = optional(list(object({<br>        http_port                = number<br>        https_port               = number<br>        origin_protocol_policy   = string<br>        origin_ssl_protocols     = list(string)<br>        origin_keepalive_timeout = optional(number)<br>        origin_read_timeout      = optional(number)<br>      })), [])<br>      custom_header = optional(list(object({<br>        name  = string<br>        value = string<br>      })), [])<br>      origin_shield = optional(list(object({<br>        enabled              = bool<br>        origin_shield_region = string<br>      })), [])<br>      s3_origin_config = optional(list(object({<br>        origin_access_identity = string<br>      })), [])<br>    })), [])<br>    origin_group = optional(list(object({<br>      origin_id = string<br>      failover_criteria = optional(list(object({<br>        status_codes = list(string)<br>      })), [])<br>      member = optional(list(object({<br>        origin_id = string<br>      })), [])<br>    })), [])<br>    restrictions = optional(list(object({<br>      geo_restrictions = optional(list(object({<br>        restriction_type = string<br>        locations        = optional(list(string))<br>      })), [])<br>    })), [])<br>    viewer_certificate = optional(list(object({<br>      acm_certificate_arn            = optional(string)<br>      cloudfront_default_certificate = optional(bool, false)<br>      iam_certificate_id             = optional(string)<br>      minimum_protocol_version       = optional(string)<br>      ssl_support_method             = optional(string)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_kinesis_stream"></a> [kinesis\_stream](#input\_kinesis\_stream) | Kinesis stream name to be used as datasource for policy document and realtime\_log\_config resource for cloudfront. | `string` | `null` | no |
| <a name="input_lambda_function"></a> [lambda\_function](#input\_lambda\_function) | n/a | `string` | `null` | no |
| <a name="input_monitoring_subscription"></a> [monitoring\_subscription](#input\_monitoring\_subscription) | n/a | <pre>list(map(object({<br>    id              = number<br>    distribution_id = number<br>  })))</pre> | `[]` | no |
| <a name="input_response_headers_policy"></a> [response\_headers\_policy](#input\_response\_headers\_policy) | n/a | <pre>list(map(object({<br>    id      = number<br>    name    = string<br>    comment = optional(string)<br>    cors_config = optional(list(object({<br>      access_control_allow_credentials = optional(bool, false)<br>      origin_override                  = optional(bool, false)<br>      access_control_max_age_sec       = optional(number)<br>      access_control_allow_headers = optional(list(object({<br>        items = optional(list(string))<br>      })), [])<br>      access_control_allow_methods = optional(list(object({<br>        items = optional(list(string))<br>      })), [])<br>      access_control_allow_origins = optional(list(object({<br>        items = optional(list(string))<br>      })), [])<br>      access_control_expose_headers = optional(list(object({<br>        items = optional(list(string))<br>      })), [])<br>    })), [])<br>    custom_headers_config = optional(list(object({<br>      header   = optional(string)<br>      override = optional(string)<br>      value    = optional(string)<br>    })), [])<br>    remove_headers_config = optional(list(object({<br>      header = optional(string)<br>    })), [])<br>    security_headers_config = optional(list(object({<br>      content_security_policy = optional(list(object({<br>        content_security_policy = string<br>        override                = bool<br>      })), [])<br>      content_type_options = optional(list(object({<br>        override = bool<br>      })), [])<br>      frame_options = optional(list(object({<br>        frame_option = string<br>        override     = bool<br>      })), [])<br>      referrer_policy = optional(list(object({<br>        override        = bool<br>        referrer_policy = string<br>      })), [])<br>      strict_transport_security = optional(list(object({<br>        access_control_max_age_sec = number<br>        override                   = bool<br>        include_subdomains         = optional(bool, false)<br>        preload                    = optional(bool, false)<br>      })), [])<br>      xss_protection = optional(list(object({<br>        override   = bool<br>        protection = bool<br>        mode_block = optional(bool, false)<br>        report_uri = optional(string)<br>      })), [])<br>    })), [])<br>    server_timing_headers_config = optional(list(object({<br>      enabled       = bool<br>      sampling_rate = number<br>    })), [])<br>  })))</pre> | n/a | yes |
| <a name="input_tags"></a> [tags](#input\_tags) | n/a | `map(string)` | `{}` | no |
| <a name="input_web_acl"></a> [web\_acl](#input\_web\_acl) | n/a | `string` | `null` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_buckets"></a> [buckets](#output\_buckets) | n/a |
| <a name="output_cache_policy"></a> [cache\_policy](#output\_cache\_policy) | n/a |
| <a name="output_distribution"></a> [distribution](#output\_distribution) | n/a |
| <a name="output_function"></a> [function](#output\_function) | n/a |
| <a name="output_monitoring_subscription"></a> [monitoring\_subscription](#output\_monitoring\_subscription) | n/a |
| <a name="output_realtime_log_config"></a> [realtime\_log\_config](#output\_realtime\_log\_config) | n/a |
| <a name="output_response_headers_policy"></a> [response\_headers\_policy](#output\_response\_headers\_policy) | n/a |
