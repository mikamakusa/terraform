## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | 1.8.2 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | 5.47.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | 5.47.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [aws_efs_access_point.this](https://registry.terraform.io/providers/hashicorp/aws/5.47.0/docs/resources/efs_access_point) | resource |
| [aws_efs_backup_policy.this](https://registry.terraform.io/providers/hashicorp/aws/5.47.0/docs/resources/efs_backup_policy) | resource |
| [aws_efs_file_system.this](https://registry.terraform.io/providers/hashicorp/aws/5.47.0/docs/resources/efs_file_system) | resource |
| [aws_efs_file_system_policy.this](https://registry.terraform.io/providers/hashicorp/aws/5.47.0/docs/resources/efs_file_system_policy) | resource |
| [aws_efs_mount_target.this](https://registry.terraform.io/providers/hashicorp/aws/5.47.0/docs/resources/efs_mount_target) | resource |
| [aws_efs_replication_configuration.this](https://registry.terraform.io/providers/hashicorp/aws/5.47.0/docs/resources/efs_replication_configuration) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_access_point"></a> [access\_point](#input\_access\_point) | This resource supports the following arguments:<br>file\_system\_id - (Required) ID of the file system for which the access point is intended.<br>posix\_user - (Optional) Operating system user and group applied to all file system requests made using the access point. Detailed below.<br>root\_directory- (Optional) Directory on the Amazon EFS file system that the access point provides access to. Detailed below.<br>tags - (Optional) Key-value mapping of resource tags. If configured with a provider default\_tags configuration block present, tags with matching keys will overwrite those defined at the provider-level.<br><br>posix\_user<br>gid - (Required) POSIX group ID used for all file system operations using this access point.<br>secondary\_gids - (Optional) Secondary POSIX group IDs used for all file system operations using this access point.<br>uid - (Required) POSIX user ID used for all file system operations using this access point.<br><br>root\_directory<br>The access point exposes the specified file system path as the root directory of your file system to applications using the access point. NFS clients using the access point can only access data in the access point's RootDirectory and it's subdirectories.<br>creation\_info - (Optional) POSIX IDs and permissions to apply to the access point's Root Directory. See Creation Info below.<br>path - (Optional) Path on the EFS file system to expose as the root directory to NFS clients using the access point to access the EFS file system. A path can have up to four subdirectories. If the specified path does not exist, you are required to provide creation\_info.<br><br>creation\_info<br>If the path specified does not exist, EFS creates the root directory using the creation\_info settings when a client connects to an access point.<br>owner\_gid - (Required) POSIX group ID to apply to the root\_directory.<br>owner\_uid - (Required) POSIX user ID to apply to the root\_directory.<br>permissions - (Required) POSIX permissions to apply to the RootDirectory, in the format of an octal number representing the file's mode bits. | <pre>list(map(object({<br>    id             = number<br>    file_system_id = number<br>    tags           = optional(map(string))<br>    posix_user = optional(list(object({<br>      gid            = number<br>      uid            = number<br>      secondary_gids = optional(list(string))<br>    })), [])<br>    root_directory = optional(list(object({<br>      path = optional(string)<br>      creation_info = optional(list(object({<br>        owner_gid   = number<br>        owner_uid   = number<br>        permissions = string<br>      })), [])<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_backup_policy"></a> [backup\_policy](#input\_backup\_policy) | This resource supports the following arguments:<br>file\_system\_id - (Required) The ID of the EFS file system.<br>backup\_policy - (Required) A backup\_policy object (documented below).<br><br>Backup Policy Arguments<br>backup\_policy supports the following arguments:<br>status - (Required) A status of the backup policy. Valid values: ENABLED, DISABLED. | <pre>list(map(object({<br>    id             = number<br>    file_system_id = number<br>    backup_policy = list(object({<br>      status = string<br>    }))<br>  })))</pre> | `[]` | no |
| <a name="input_file_system"></a> [file\_system](#input\_file\_system) | This resource supports the following arguments:<br>availability\_zone\_name - (Optional) the AWS Availability Zone in which to create the file system. Used to create a file system that uses One Zone storage classes. See user guide for more information.<br>creation\_token - (Optional) A unique name (a maximum of 64 characters are allowed) used as reference when creating the Elastic File System to ensure idempotent file system creation. By default generated by Terraform. See Elastic File System user guide for more information.<br>encrypted - (Optional) If true, the disk will be encrypted.<br>kms\_key\_id - (Optional) The ARN for the KMS encryption key. When specifying kms\_key\_id, encrypted needs to be set to true.<br>lifecycle\_policy - (Optional) A file system lifecycle policy object. See lifecycle\_policy block below for details.<br>protection - (Optional) A file system protection object. See protection block below for details.<br>performance\_mode - (Optional) The file system performance mode. Can be either "generalPurpose" or "maxIO" (Default: "generalPurpose").<br>provisioned\_throughput\_in\_mibps - (Optional) The throughput, measured in MiB/s, that you want to provision for the file system. Only applicable with throughput\_mode set to provisioned.<br>tags - (Optional) A map of tags to assign to the file system. If configured with a provider default\_tags configuration block present, tags with matching keys will overwrite those defined at the provider-level.<br>throughput\_mode - (Optional) Throughput mode for the file system. Defaults to bursting. Valid values: bursting, provisioned, or elastic. When using provisioned, also set provisioned\_throughput\_in\_mibps.<br><br>lifecycle\_policy Block<br>Describes a policy used by Lifecycle management that specifies when to transition files into and out of storage classes. For more information, see Managing file system storage.<br>The lifecycle\_policy block supports the following arguments:<br>transition\_to\_archive - (Optional) Indicates how long it takes to transition files to the archive storage class. Requires transition\_to\_ia, Elastic Throughput and General Purpose performance mode. Valid values: AFTER\_1\_DAY, AFTER\_7\_DAYS, AFTER\_14\_DAYS, AFTER\_30\_DAYS, AFTER\_60\_DAYS, AFTER\_90\_DAYS, AFTER\_180\_DAYS, AFTER\_270\_DAYS, or AFTER\_365\_DAYS.<br>transition\_to\_ia - (Optional) Indicates how long it takes to transition files to the IA storage class. Valid values: AFTER\_1\_DAY, AFTER\_7\_DAYS, AFTER\_14\_DAYS, AFTER\_30\_DAYS, AFTER\_60\_DAYS, AFTER\_90\_DAYS, AFTER\_180\_DAYS, AFTER\_270\_DAYS, or AFTER\_365\_DAYS.<br>transition\_to\_primary\_storage\_class - (Optional) Describes the policy used to transition a file from infequent access storage to primary storage. Valid values: AFTER\_1\_ACCESS.<br><br>protection Block<br>Describes the protection on a file system.<br>The protection block supports the following arguments:<br>replication\_overwrite - (Optional) Indicates whether replication overwrite protection is enabled. Valid values: ENABLED or DISABLED. | <pre>list(map(object({<br>    id                              = number<br>    availability_zone_name          = optional(string)<br>    creation_token                  = optional(string)<br>    encrypted                       = optional(bool)<br>    kms_key_id                      = optional(string)<br>    performance_mode                = optional(string)<br>    provisioned_throughput_in_mibps = optional(number)<br>    tags                            = optional(map(string))<br>    throughput_mode                 = optional(string)<br>    lifecycle_policy = optional(list(object({<br>      transition_to_archive               = optional(string)<br>      transition_to_ia                    = optional(string)<br>      transition_to_primary_storage_class = optional(string)<br>    })), [])<br>    protection = optional(list(object({<br>      replication_overwrite = optional(string)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_file_system_policy"></a> [file\_system\_policy](#input\_file\_system\_policy) | The following arguments are required:<br>file\_system\_id - (Required) The ID of the EFS file system.<br>policy - (Required) The JSON formatted file system policy for the EFS file system. see Docs for more info.<br><br>The following arguments are optional:<br>bypass\_policy\_lockout\_safety\_check - (Optional) A flag to indicate whether to bypass the aws\_efs\_file\_system\_policy lockout safety check. The policy lockout safety check determines whether the policy in the request will prevent the principal making the request will be locked out from making future PutFileSystemPolicy requests on the file system. Set bypass\_policy\_lockout\_safety\_check to true only when you intend to prevent the principal that is making the request from making a subsequent PutFileSystemPolicy request on the file system. The default value is false. | <pre>list(map(object({<br>    id                                 = number<br>    file_system_id                     = number<br>    policy                             = string<br>    bypass_policy_lockout_safety_check = optional(bool)<br>  })))</pre> | `[]` | no |
| <a name="input_mount_target"></a> [mount\_target](#input\_mount\_target) | This resource supports the following arguments:<br>file\_system\_id - (Required) The ID of the file system for which the mount target is intended.<br>subnet\_id - (Required) The ID of the subnet to add the mount target in.<br>ip\_address - (Optional) The address (within the address range of the specified subnet) at which the file system may be mounted via the mount target.<br>security\_groups - (Optional) A list of up to 5 VPC security group IDs (that must be for the same VPC as subnet specified) in effect for the mount target. | <pre>list(map(object({<br>    id              = number<br>    file_system_id  = number<br>    subnet_id       = string<br>    ip_address      = optional(string)<br>    security_groups = optional(list(string))<br>  })))</pre> | `[]` | no |
| <a name="input_replication_configuration"></a> [replication\_configuration](#input\_replication\_configuration) | n/a | <pre>list(map(object({<br>    id = number<br>    source_file_system_id = string<br>    destination = list(object({<br>      availability_zone_name = string<br>      file_system_id = string<br>      kms_key_id = string<br>      region = string<br>      }))<br>  })))</pre> | `[]` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | n/a | `map(string)` | `{}` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_access_point"></a> [access\_point](#output\_access\_point) | n/a |
| <a name="output_backup_policy"></a> [backup\_policy](#output\_backup\_policy) | n/a |
| <a name="output_file_system"></a> [file\_system](#output\_file\_system) | n/a |
| <a name="output_file_system_policy"></a> [file\_system\_policy](#output\_file\_system\_policy) | n/a |
| <a name="output_mount_target"></a> [mount\_target](#output\_mount\_target) | n/a |
| <a name="output_replication_configuration"></a> [replication\_configuration](#output\_replication\_configuration) | n/a |
