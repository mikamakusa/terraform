## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_nomad"></a> [nomad](#requirement\_nomad) | 2.3.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_nomad"></a> [nomad](#provider\_nomad) | 2.3.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [nomad_acl_auth_method.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/acl_auth_method) | resource |
| [nomad_acl_binding_rule.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/acl_binding_rule) | resource |
| [nomad_acl_policy.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/acl_policy) | resource |
| [nomad_acl_role.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/acl_role) | resource |
| [nomad_acl_token.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/acl_token) | resource |
| [nomad_csi_volume.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/csi_volume) | resource |
| [nomad_csi_volume_registration.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/csi_volume_registration) | resource |
| [nomad_external_volume.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/external_volume) | resource |
| [nomad_job.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/job) | resource |
| [nomad_namespace.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/namespace) | resource |
| [nomad_node_pool.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/node_pool) | resource |
| [nomad_quota_specification.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/quota_specification) | resource |
| [nomad_scheduler_config.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/scheduler_config) | resource |
| [nomad_sentinel_policy.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/sentinel_policy) | resource |
| [nomad_variable.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/variable) | resource |
| [nomad_volume.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/resources/volume) | resource |
| [nomad_plugin.this](https://registry.terraform.io/providers/hashicorp/nomad/2.3.0/docs/data-sources/plugin) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_acl_auth_method"></a> [acl\_auth\_method](#input\_acl\_auth\_method) | The following arguments are supported:<br>name (string: <required>) - The identifier of the ACL Auth Method.<br>type (string: <required>) - ACL Auth Method SSO workflow type. Valid values, are OIDC and JWT.<br>token\_locality (string: <required>) - Defines whether the ACL Auth Method creates a local or global token when performing SSO login. This field must be set to either local or global.<br>max\_token\_ttl (string: <required>) - Defines the maximum life of a token created by this method and is specified as a time duration such as "15h".<br>token\_name\_format (string:) - Defines the token name format for the generated tokens.<br>default (bool: false) - Defines whether this ACL Auth Method is to be set as default.<br>config: (block: <required>) - Configuration specific to the auth method provider.<br>jwt\_validation\_pub\_keys: ([]string: <optional>) - List of PEM-encoded public keys to use to authenticate signatures locally.<br>jwks\_url: (string: <optional>) - JSON Web Key Sets url for authenticating signatures.<br>jwks\_ca\_cert: (string: <optional>) - PEM encoded CA cert for use by the TLS client used to talk with the JWKS server.<br>oidc\_discovery\_url: (string: <optional>) - The OIDC Discovery URL, without any .well-known component (base path).<br>oidc\_client\_id: (string: <optional>) - The OAuth Client ID configured with the OIDC provider.<br>oidc\_client\_secret: (string: <optional>) - The OAuth Client Secret configured with the OIDC provider.<br>oidc\_scopes: ([]string: <optional>) - List of OIDC scopes.<br>oidc\_disable\_userinfo: (bool: false) - When set to true, Nomad will not make a request to the identity provider to get OIDC UserInfo. You may wish to set this if your identity provider doesn't send any additional claims from the UserInfo endpoint.<br>bound\_audiences: ([]string: <optional>) - List of auth claims that are valid for login.<br>bound\_issuer: ([]string: <optional>) - The value against which to match the iss claim in a JWT.<br>allowed\_redirect\_uris: ([]string: <optional>) - A list of allowed values that can be used for the redirect URI.<br>discovery\_ca\_pem: ([]string: <optional>) - PEM encoded CA certs for use by the TLS client used to talk with the OIDC Discovery URL.<br>signing\_algs: ([]string: <optional>) - A list of supported signing algorithms.<br>expiration\_leeway: (string: <optional>) - Duration of leeway when validating expiration of a JWT in the form of a time duration such as "5m" or "1h".<br>not\_before\_leeway: (string: <optional>) - Duration of leeway when validating not before values of a token in the form of a time duration such as "5m" or "1h".<br>clock\_skew\_leeway: (string: <optional>) - Duration of leeway when validating all claims in the form of a time duration such as "5m" or "1h".<br>claim\_mappings: (map[string]string: <optional>) - Mappings of claims (key) that will be copied to a metadata field (value).<br>list\_claim\_mappings: (map[string]string: <optional>) - Mappings of list claims (key) that will be copied to a metadata field (value). | <pre>list(object({<br>    id             = number<br>    max_token_ttl  = string<br>    name           = string<br>    token_locality = string<br>    type           = string<br>    default        = optional(bool)<br>    config = optional(list(object({<br>      allowed_redirect_uris = list(string)<br>      oidc_client_id        = string<br>      oidc_client_secret    = string<br>      oidc_discovery_url    = string<br>      oidc_scopes           = optional(list(string))<br>      bound_audiences       = optional(list(string))<br>      signing_algs          = optional(list(string))<br>      discovery_ca_pem      = optional(list(string))<br>      claim_mappings        = optional(map(string))<br>      list_claim_mappings   = optional(map(string))<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_acl_binding_rule"></a> [acl\_binding\_rule](#input\_acl\_binding\_rule) | The following arguments are supported:<br>description (string: "") - Description for this ACL binding rule.<br>auth\_method (string: <required>) - Name of the auth method for which this rule applies to.<br>selector (string: "") - A boolean expression that matches against verified identity attributes returned from the auth method during login.<br>bind\_type (string: <required>) - Adjusts how this binding rule is applied at login time. Valid values are role, policy, and management.<br>bind\_name (string: <optional>) - Target of the binding. If bind\_type is role or policy then bind\_name is required. If bind\_type is management than bind\_name must not be defined. | <pre>list(object({<br>    id             = number<br>    auth_method_id = number<br>    bind_type      = string<br>    description    = optional(string)<br>    selector       = optional(string)<br>    bind_name      = optional(string)<br>  }))</pre> | `[]` | no |
| <a name="input_acl_policy"></a> [acl\_policy](#input\_acl\_policy) | The following arguments are supported:<br>name (string: <required>) - A unique name for the policy.<br>rules\_hcl (string: <required>) - The contents of the policy to register, as HCL or JSON.<br>description (string: "") - A description of the policy.<br>job\_acl: (JobACL: <optional>) - Options for assigning the ACL rules to a job, group, or task. | <pre>list(object({<br>    id          = number<br>    name        = string<br>    rules_hcl   = string<br>    description = optional(string)<br>    job_acl = optional(list(object({<br>      job_id       = number<br>      namespace_id = optional(number)<br>      group        = optional(string)<br>      task         = optional(string)<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_acl_role"></a> [acl\_role](#input\_acl\_role) | The following arguments are supported:<br>name (string: <required>) - A human-friendly name for this ACL Role.<br>description (string: "") - A description of the ACL Role.<br>policy (set: <required>) - A set of policy names to associate with this ACL Role. It may be used multiple times. | <pre>list(object({<br>    id          = number<br>    name        = string<br>    description = optional(string)<br>    policy = list(object({<br>      policy_id = number<br>    }))<br>  }))</pre> | `[]` | no |
| <a name="input_acl_token"></a> [acl\_token](#input\_acl\_token) | The following arguments are supported:<br>type (string: <required>) - The type of token this is. Use client for tokens that will have policies associated with them. Use management for tokens that can perform any action.<br>name (string: "") - A human-friendly name for this token.<br>policies (set: []) - A set of policy names to associate with this token. Must be set on client-type tokens, must not be set on management-type tokens. Policies do not need to exist before being used here.<br>role (set: []) - The list of roles attached to the token. Each entry has name and id attributes. It may be used multiple times.<br>global (bool: false) - Whether the token should be replicated to all regions, or if it will only be used in the region it was created in.<br>expiration\_ttl (string: "") - Provides a TTL for the token in the form of a time duration such as "5m" or "1h".<br>In addition to the above arguments, the following attributes are exported and can be referenced:<br>accessor\_id (string) - A non-sensitive identifier for this token that can be logged and shared safely without granting any access to the cluster.<br>secret\_id (string) - The token value itself, which is presented for access to the cluster.<br>create\_time (string) - The timestamp the token was created.<br>expiration\_time (string) - The timestamp after which the token is considered expired and eligible for destruction. | <pre>list(object({<br>    id             = number<br>    type           = string<br>    name           = optional(string)<br>    policies       = optional(list(string))<br>    global         = optional(bool)<br>    expiration_ttl = optional(string)<br>    role = optional(list(object({<br>      id = number<br>    })))<br>  }))</pre> | `[]` | no |
| <a name="input_csi_volume"></a> [csi\_volume](#input\_csi\_volume) | The following arguments are supported:<br>namespace: (string: "default") - The namespace in which to register the volume.<br>volume\_id: (string: <required>) - The unique ID of the volume.<br>name: (string: <required>) - The display name for the volume.<br>plugin\_id: (string: <required>) - The ID of the Nomad plugin for registering this volume.<br>snapshot\_id: (string: <optional>) - The external ID of a snapshot to restore. If ommited, the volume will be created from scratch. Conflicts with clone\_id.<br>clone\_id: (string: <optional>) - The external ID of an existing volume to restore. If ommited, the volume will be created from scratch. Conflicts with snapshot\_id.<br>capacity\_min: (string: <optional>) - Option to signal a minimum volume size. This may not be supported by all storage providers.<br>capacity\_max: (string: <optional>) - Option to signal a maximum volume size. This may not be supported by all storage providers.<br>capability: (Capability: <required>) - Options for validating the capability of a volume.<br>topology\_request: (TopologyRequest: <optional>) - Specify locations (region, zone, rack, etc.) where the provisioned volume is accessible from.<br>mount\_options: (block: optional) Options for mounting block-device volumes without a pre-formatted file system.<br>fs\_type: (string: optional) - The file system type.<br>mount\_flags: []string: optional - The flags passed to mount.<br>secrets: (map[string]string: optional) An optional key-value map of strings used as credentials for publishing and unpublishing volumes.<br>parameters: (map[string]string: optional) An optional key-value map of strings passed directly to the CSI plugin to configure the volume.<br>Capability<br>access\_mode: (string: <required>) - Defines whether a volume should be available concurrently. Possible values are:<br>single-node-reader-only<br>single-node-writer<br>multi-node-reader-only<br>multi-node-single-writer<br>multi-node-multi-writer<br>attachment\_mode: (string: <required>) - The storage API that will be used by the volume. Possible values are:<br>block-device<br>file-system<br>Topology Request<br>required: (Topology: <optional>) - Required topologies indicate that the volume must be created in a location accessible from all the listed topologies.<br>preferred: (Topology: <optional>) - Preferred topologies indicate that the volume should be created in a location accessible from some of the listed topologies.<br>Topology<br>topology: (List of segments: <required>) - Defines the location for the volume.<br>segments: (map[string]string) - Define the attributes for the topology request. | <pre>list(object({<br>    id           = number<br>    name         = string<br>    volume_id    = string<br>    namespace_id = optional(number)<br>    snapshot_id  = optional(string)<br>    clone_id     = optional(string)<br>    capacity_min = optional(string)<br>    capacity_max = optional(string)<br>    secrets      = optional(map(string))<br>    parameters   = optional(map(string))<br>    capability = optional(list(object({<br>      access_mode     = string<br>      attachment_mode = string<br>    })), [])<br>    mount_options = optional(list(object({<br>      fs_type     = optional(string)<br>      mount_flags = optional(list(string))<br>    })), [])<br>    topology_request = optional(list(object({<br>      required = optional(list(object({<br>        topology = optional(list(object({<br>          segments = map(string)<br>        })), [])<br>      })), [])<br>      preferred = optional(list(object({<br>        topology = optional(list(object({<br>          segments = map(string)<br>        })), [])<br>      })), [])<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_csi_volume_registration"></a> [csi\_volume\_registration](#input\_csi\_volume\_registration) | n/a | <pre>list(object({<br>    id                    = number<br>    external_id           = string<br>    name                  = string<br>    volume_id             = number<br>    namespace_id          = optional(number)<br>    capacity_min          = optional(string)<br>    capacity_max          = optional(string)<br>    secrets               = optional(map(string))<br>    parameters            = optional(map(string))<br>    context               = optional(map(string))<br>    deregister_on_destroy = optional(bool)<br>    capability = optional(list(object({<br>      access_mode     = string<br>      attachment_mode = string<br>    })), [])<br>    mount_options = optional(list(object({<br>      fs_type     = optional(string)<br>      mount_flags = optional(list(string))<br>    })), [])<br>    topology_request = optional(list(object({<br>      required = optional(list(object({<br>        topology = optional(list(object({<br>          segments = map(string)<br>        })), [])<br>      })), [])<br>      preferred = optional(list(object({<br>        topology = optional(list(object({<br>          segments = map(string)<br>        })), [])<br>      })), [])<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_external_volume"></a> [external\_volume](#input\_external\_volume) | n/a | <pre>list(object({<br>    id           = number<br>    name         = string<br>    volume_id    = number<br>    namespace_id = optional(number)<br>    snapshot_id  = optional(string)<br>    clone_id     = optional(string)<br>    capacity_min = optional(string)<br>    capacity_max = optional(string)<br>    secrets      = optional(map(string))<br>    parameters   = optional(map(string))<br>    capability = optional(list(object({<br>      access_mode     = string<br>      attachment_mode = string<br>    })), [])<br>    mount_options = optional(list(object({<br>      fs_type     = optional(string)<br>      mount_flags = optional(list(string))<br>    })), [])<br>    topology_request = optional(list(object({<br>      required = optional(list(object({<br>        topology = optional(list(object({<br>          segments = map(string)<br>        })), [])<br>      })), [])<br>      preferred = optional(list(object({<br>        topology = optional(list(object({<br>          segments = map(string)<br>        })), [])<br>      })), [])<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_job"></a> [job](#input\_job) | n/a | <pre>list(object({<br>    id                      = number<br>    jobspec                 = string<br>    consul_token            = optional(string)<br>    deregister_on_destroy   = optional(bool)<br>    deregister_on_id_change = optional(bool)<br>    detach                  = optional(bool)<br>    hcl1                    = optional(bool)<br>    json                    = optional(bool)<br>    policy_override         = optional(bool)<br>    purge_on_destroy        = optional(bool)<br>    vault_token             = optional(string)<br>    hcl2 = optional(list(object({<br>      allow_fs = optional(bool)<br>      vars     = optional(map(string))<br>    })))<br>  }))</pre> | `[]` | no |
| <a name="input_namespace"></a> [namespace](#input\_namespace) | n/a | <pre>list(object({<br>    id          = number<br>    name        = string<br>    description = optional(string)<br>    quota_id    = optional(number)<br>    meta        = optional(map(string))<br>    capabilities = optional(list(object({<br>      enabled_task_drivers  = optional(list(string))<br>      disabled_task_drivers = optional(list(string))<br>    })), [])<br>    node_pool_config = optional(list(object({<br>      default = optional(string)<br>      allowed = optional(list(string))<br>      denied  = optional(list(string))<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_node_pool"></a> [node\_pool](#input\_node\_pool) | n/a | <pre>list(object({<br>    id          = number<br>    name        = string<br>    description = optional(string)<br>    meta        = optional(map(string))<br>    scheduler_config = optional(list(object({<br>      scheduler_algorithm     = optional(string)<br>      memory_oversubscription = optional(string)<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_nomad_plugin"></a> [nomad\_plugin](#input\_nomad\_plugin) | n/a | `string` | `null` | no |
| <a name="input_quota_specification"></a> [quota\_specification](#input\_quota\_specification) | n/a | <pre>list(object({<br>    id          = number<br>    name        = string<br>    description = optional(string)<br>    limits = list(object({<br>      region = string<br>      region_limit = list(object({<br>        cpu       = optional(number)<br>        memory_mb = optional(number)<br>      }))<br>    }))<br>  }))</pre> | `[]` | no |
| <a name="input_scheduler_config"></a> [scheduler\_config](#input\_scheduler\_config) | n/a | <pre>list(object({<br>    id                              = number<br>    scheduler_algorithm             = optional(bool)<br>    memory_oversubscription_enabled = optional(string)<br>    preemption_config               = optional(map(string))<br>  }))</pre> | `[]` | no |
| <a name="input_sentinel_policy"></a> [sentinel\_policy](#input\_sentinel\_policy) | n/a | <pre>list(object({<br>    id                = number<br>    enforcement_level = string<br>    name              = string<br>    policy            = string<br>    scope             = string<br>    description       = optional(string)<br>  }))</pre> | `[]` | no |
| <a name="input_variable"></a> [variable](#input\_variable) | n/a | <pre>list(object({<br>    id            = number<br>    items         = map(string)<br>    path          = string<br>    namespace_id  = optional(number)<br>  }))</pre> | `[]` | no |
| <a name="input_volume"></a> [volume](#input\_volume) | n/a | <pre>list(object({<br>    id                    = number<br>    external_id           = string<br>    name                  = string<br>    volume_id             = string<br>    namespace_id          = optional(number)<br>    secrets               = optional(map(string))<br>    parameters            = optional(map(string))<br>    context               = optional(map(string))<br>    deregister_on_destroy = optional(bool)<br>    capability            = optional(list(object({<br>      access_mode = string<br>      attachment_mode = string<br>    })), [])<br>    topology_request      = optional(list(object({<br>      required = optional(list(object({<br>        topology = optional(list(object({<br>          segments = optional(map(string))<br>        })), [])<br>      })), [])<br>    })), [])<br>    mount_options         = optional(list(object({<br>      fs_type     = optional(string)<br>      mount_flags = optional(string)<br>    })), [])<br>  }))</pre> | `[]` | no |

## Outputs

No outputs.
