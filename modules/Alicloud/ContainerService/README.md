## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | 1.6.2 |
| <a name="requirement_alicloud"></a> [alicloud](#requirement\_alicloud) | 1.211.2 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_alicloud"></a> [alicloud](#provider\_alicloud) | 1.211.2 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [alicloud_cs_autoscaling_config.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/cs_autoscaling_config) | resource |
| [alicloud_cs_edge_kubernetes.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/cs_edge_kubernetes) | resource |
| [alicloud_cs_kubernetes_autoscaler.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/cs_kubernetes_autoscaler) | resource |
| [alicloud_cs_kubernetes_node_pool.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/cs_kubernetes_node_pool) | resource |
| [alicloud_cs_kubernetes_permissions.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/cs_kubernetes_permissions) | resource |
| [alicloud_cs_managed_kubernetes.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/cs_managed_kubernetes) | resource |
| [alicloud_cs_serverless_kubernetes.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/cs_serverless_kubernetes) | resource |
| [alicloud_db_instance.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/db_instance) | resource |
| [alicloud_ess_scaling_configuration.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/ess_scaling_configuration) | resource |
| [alicloud_ess_scaling_group.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/ess_scaling_group) | resource |
| [alicloud_kms_key.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/kms_key) | resource |
| [alicloud_ram_policy.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/ram_policy) | resource |
| [alicloud_ram_user.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/ram_user) | resource |
| [alicloud_ram_user_policy_attachment.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/ram_user_policy_attachment) | resource |
| [alicloud_resource_manager_resource_group.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/resource_manager_resource_group) | resource |
| [alicloud_security_group.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/security_group) | resource |
| [alicloud_slb_load_balancer.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/slb_load_balancer) | resource |
| [alicloud_vpc.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/vpc) | resource |
| [alicloud_vswitch.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/resources/vswitch) | resource |
| [alicloud_db_instances.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/db_instances) | data source |
| [alicloud_ess_scaling_configurations.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/ess_scaling_configurations) | data source |
| [alicloud_ess_scaling_groups.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/ess_scaling_groups) | data source |
| [alicloud_images.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/images) | data source |
| [alicloud_instance_types.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/instance_types) | data source |
| [alicloud_kms_keys.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/kms_keys) | data source |
| [alicloud_resource_manager_resource_groups.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/resource_manager_resource_groups) | data source |
| [alicloud_security_groups.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/security_groups) | data source |
| [alicloud_slb_load_balancers.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/slb_load_balancers) | data source |
| [alicloud_vpcs.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/vpcs) | data source |
| [alicloud_vswitches.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/vswitches) | data source |
| [alicloud_zones.this](https://registry.terraform.io/providers/aliyun/alicloud/1.211.2/docs/data-sources/zones) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_autoscaling_config"></a> [autoscaling\_config](#input\_autoscaling\_config) | cluster\_id                = optional(string)<br>cool\_down\_duration        = optional(string)<br>unneeded\_duration         = optional(string)<br>utilization\_threshold     = optional(string)<br>gpu\_utilization\_threshold = optional(string)<br>scan\_interval             = optional(string)<br>scale\_down\_enabled        = optional(bool)<br>expander                  = optional(string) | <pre>list(map(object({<br>    id                        = number<br>    cluster_id                = optional(string)<br>    cool_down_duration        = optional(string)<br>    unneeded_duration         = optional(string)<br>    utilization_threshold     = optional(string)<br>    gpu_utilization_threshold = optional(string)<br>    scan_interval             = optional(string)<br>    scale_down_enabled        = optional(bool, false)<br>    expander                  = optional(string)<br>  })))</pre> | `[]` | no |
| <a name="input_available_resource_creation"></a> [available\_resource\_creation](#input\_available\_resource\_creation) | n/a | `string` | `null` | no |
| <a name="input_db_instance"></a> [db\_instance](#input\_db\_instance) | engine                         = string<br>engine\_version                 = string<br>instance\_storage               = optional(number)<br>instance\_type                  = optional(string)<br>db\_instance\_storage\_type       = optional(string)<br>db\_time\_zone                   = optional(string)<br>sql\_collector\_status           = optional(string)<br>sql\_collector\_config\_value     = optional(number)<br>instance\_name                  = optional(string)<br>connection\_string\_prefix       = optional(string)<br>port                           = optional(string)<br>instance\_charge\_type           = optional(string)<br>period                         = optional(number)<br>monitoring\_period              = optional(number)<br>auto\_renew                     = optional(bool)<br>auto\_renew\_period              = optional(number)<br>zone\_id                        = optional(string)<br>vswitch\_id                     = optional(string)<br>private\_ip\_address             = optional(string)<br>security\_ips                   = optional(set(string))<br>db\_instance\_ip\_array\_name      = optional(string)<br>db\_instance\_ip\_array\_attribute = optional(string)<br>security\_ip\_type               = optional(string)<br>db\_is\_ignore\_case              = optional(bool)<br>whitelist\_network\_type         = optional(string)<br>modify\_mode                    = optional(string)<br>security\_ip\_mode               = optional(string)<br>fresh\_white\_list\_readins       = optional(string)<br>force\_restart                  = optional(bool)<br>tags                           = optional(map(string))<br>security\_group\_ids             = optional(set(string))<br>maintain\_time                  = optional(string)<br>auto\_upgrade\_minor\_version     = optional(string)<br>upgrade\_time                   = optional(string)<br>switch\_time                    = optional(string)<br>target\_minor\_version           = optional(string)<br>zone\_id\_slave\_a                = optional(string)<br>zone\_id\_slave\_b                = optional(string)<br>ssl\_action                     = optional(string)<br>ssl\_connection\_string          = optional(string)<br>tde\_status                     = optional(string)<br>encryption\_key                 = optional(string)<br>ca\_type                        = optional(string)<br>server\_cert                    = optional(string)<br>server\_key                     = optional(string)<br>client\_ca\_enabled              = optional(bool)<br>client\_crl\_enabled             = optional(bool)<br>client\_cert\_revocation\_list    = optional(string)<br>acl                            = optional(string)<br>replication\_acl                = optional(string)<br>ha\_config                      = optional(string)<br>manual\_ha\_time                 = optional(string)<br>released\_keep\_policy           = optional(string)<br>storage\_auto\_scale             = optional(string)<br>storage\_threshold              = optional(number)<br>storage\_upper\_bound            = optional(number)<br>deletion\_protection            = optional(bool)<br>tcp\_connection\_type            = optional(string)<br>category                       = optional(string)<br>babelfish\_port                 = optional(string)<br>vpc\_id                         = optional(string)<br>effective\_time                 = optional(string)<br>parameters = optional(list(object))<br>  name  = string<br>  value = string<br>babelfish = optional(list(object))<br>  babelfish\_enabled    = string<br>  master\_user\_password = string<br>  master\_username      = string<br>  migration\_mode       = string<br>pg\_hba\_conf = optional(list(object))<br>  address     = string<br>  database    = string<br>  method      = string<br>  priority\_id = number<br>  type        = string<br>  user        = string<br>  mask        = optional(string)<br>  option      = optional(string)<br>serverless\_config = optional(list(object))<br>  max\_capacity = number<br>  min\_capacity = number<br>  auto\_pause   = optional(bool, false)<br>  switch\_force = optional(bool, false) | <pre>list(map(object({<br>    id                             = number<br>    engine                         = string<br>    engine_version                 = string<br>    instance_storage               = optional(number)<br>    instance_type                  = optional(string)<br>    db_instance_storage_type       = optional(string)<br>    db_time_zone                   = optional(string)<br>    sql_collector_status           = optional(string)<br>    sql_collector_config_value     = optional(number)<br>    instance_name                  = optional(string)<br>    connection_string_prefix       = optional(string)<br>    port                           = optional(string)<br>    instance_charge_type           = optional(string)<br>    period                         = optional(number)<br>    monitoring_period              = optional(number)<br>    auto_renew                     = optional(bool, false)<br>    auto_renew_period              = optional(number)<br>    zone_id                        = optional(string)<br>    vswitch_id                     = optional(string)<br>    private_ip_address             = optional(string)<br>    security_ips                   = optional(set(string))<br>    db_instance_ip_array_name      = optional(string)<br>    db_instance_ip_array_attribute = optional(string)<br>    security_ip_type               = optional(string)<br>    db_is_ignore_case              = optional(bool, false)<br>    whitelist_network_type         = optional(string)<br>    modify_mode                    = optional(string)<br>    security_ip_mode               = optional(string)<br>    fresh_white_list_readins       = optional(string)<br>    force_restart                  = optional(bool, false)<br>    tags                           = optional(map(string))<br>    security_group_ids             = optional(set(string))<br>    maintain_time                  = optional(string)<br>    auto_upgrade_minor_version     = optional(string)<br>    upgrade_time                   = optional(string)<br>    switch_time                    = optional(string)<br>    target_minor_version           = optional(string)<br>    zone_id_slave_a                = optional(string)<br>    zone_id_slave_b                = optional(string)<br>    ssl_action                     = optional(string)<br>    ssl_connection_string          = optional(string)<br>    tde_status                     = optional(string)<br>    encryption_key                 = optional(string)<br>    ca_type                        = optional(string)<br>    server_cert                    = optional(string)<br>    server_key                     = optional(string)<br>    client_ca_enabled              = optional(bool, false)<br>    client_crl_enabled             = optional(bool, false)<br>    client_cert_revocation_list    = optional(string)<br>    acl                            = optional(string)<br>    replication_acl                = optional(string)<br>    ha_config                      = optional(string)<br>    manual_ha_time                 = optional(string)<br>    released_keep_policy           = optional(string)<br>    storage_auto_scale             = optional(string)<br>    storage_threshold              = optional(number)<br>    storage_upper_bound            = optional(number)<br>    deletion_protection            = optional(bool, false)<br>    tcp_connection_type            = optional(string)<br>    category                       = optional(string)<br>    babelfish_port                 = optional(string)<br>    vpc_id                         = optional(string)<br>    effective_time                 = optional(string)<br>    parameters = optional(list(object({<br>      name  = string<br>      value = string<br>    })), [])<br>    babelfish = optional(list(object({<br>      babelfish_enabled    = string<br>      master_user_password = string<br>      master_username      = string<br>      migration_mode       = string<br>    })), [])<br>    pg_hba_conf = optional(list(object({<br>      address     = string<br>      database    = string<br>      method      = string<br>      priority_id = number<br>      type        = string<br>      user        = string<br>      mask        = optional(string)<br>      option      = optional(string)<br>    })), [])<br>    serverless_config = optional(list(object({<br>      max_capacity = number<br>      min_capacity = number<br>      auto_pause   = optional(bool, false)<br>      switch_force = optional(bool, false)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_db_instances"></a> [db\_instances](#input\_db\_instances) | Regex that match the DB instance name to be used as datasource. | `string` | `null` | no |
| <a name="input_edge_kubernetes"></a> [edge\_kubernetes](#input\_edge\_kubernetes) | worker\_instance\_types          = list(string) / The instance types of worker node, you can set multiple types to avoid NoStock of a certain type.<br>worker\_number                  = number / The cloud worker node number of the edge kubernetes cluster. Default to 1.<br>worker\_vswitch\_ids             = list(string) / The vswitches used by workers.<br>name                           = optional(string) / The kubernetes cluster's name.<br>version                        = optional(string) / Desired Kubernetes version.<br>security\_group\_id              = optional(string) / The ID of the security group to which the ECS instances in the cluster belong.<br>is\_enterprise\_security\_group   = optional(bool) / Enable to create advanced security group.<br>rds\_instances                  = optional(list(string)) / RDS instance list, You can choose which RDS instances whitelist to add instances to.<br>resource\_group\_id              = optional(string) / The ID of the resource group.<br>deletion\_protection            = optional(bool) / Whether to enable cluster deletion protection.<br>force\_update                   = optional(bool) / Default false, when you want to change vpc\_id, you have to set this field to true, then the cluster will be recreated.<br>tags                           = optional(map(string)) / A map of tags assigned to the kubernetes cluster and work node.<br>retain\_resources               = optional(list(string)) / Resources that are automatically created during cluster creation, including NAT gateways, SNAT rules, SLB instances, and RAM Role, will be deleted.<br>cluster\_spec                   = optional(string) / he cluster specifications of kubernetes cluster,which can be empty.<br>runtime                        = optional(map(string)) / The runtime of containers.<br>availability\_zone              = optional(string) / The ID of availability zone.<br>pod\_cidr                       = optional(string) / [Flannel Specific] The CIDR block for the pod network when using Flannel.<br>new\_nat\_gateway                = optional(bool) / Whether to create a new nat gateway while creating kubernetes cluster.<br>service\_cidr                   = optional(string) / The CIDR block for the service network.<br>node\_cidr\_mask                 = optional(number) / The node cidr block to specific how many pods can run on single node.<br>slb\_internet\_enabled           = optional(bool) / Whether to create internet load balancer for API Server.<br>load\_balancer\_spec             = optional(string) / The cluster api server load balance instance specification.<br>password                       = optional(string) / The password of ssh login cluster node.<br>key\_name                       = optional(string) / The keypair of ssh login cluster node, you have to create it first.<br>worker\_instance\_charge\_type    = optional(string) / Worker payment type, its valid value is PostPaid.<br>worker\_disk\_category           = optional(string) / The system disk category of worker node. Its valid value are cloud\_efficiency, cloud\_ssd and cloud\_essd.<br>worker\_disk\_size               = optional(number) / he system disk size of worker node. Its valid value range [20~32768] in GB. Default to 40.<br>install\_cloud\_monitor          = optional(bool) / Install cloud monitor agent on ECS. default: true.<br>proxy\_mode                     = optional(string) / Proxy mode is option of kube-proxy. options: iptables\|ipvs.<br>user\_data                      = optional(string) / Windows instances support batch and PowerShell scripts.<br>worker\_disk\_performance\_level  = optional(string) / Worker node system disk performance level, when worker\_disk\_category values cloud\_essd, the optional values are PL0, PL1, PL2 or PL3.<br>worker\_disk\_snapshot\_policy\_id = optional(string) / Worker node system disk auto snapshot policy.<br>client\_cert                    = optional(string) / The path of client certificate<br>client\_key                     = optional(string) / The path of client key.<br>cluster\_ca\_cert                = optional(string) / The path of cluster ca certificate.<br>addons = optional(list(object))<br>  name     = optional(string) / Name of the ACK add-on.<br>  config   = optional(string) / The ACK add-on configurations.<br>  disabled = optional(bool) / Disables the automatic installation of a component.<br>worker\_data\_disks = optional(list(object))<br>  category                = optional(string) / The type of the data disks. Valid values: cloud, cloud\_efficiency, cloud\_ssd and cloud\_essd.<br>  size                    = optional(string) / The size of a data disk, at least 40. Unit: GiB.<br>  encrypted               = optional(string) / Specifies whether to encrypt data disks.<br>  performance\_level       = optional(string) / Worker node data disk performance level, when category values cloud\_essd, the optional values are PL0, PL1, PL2 or PL3, but the specific performance level is related to the disk capacity.<br>  auto\_snapshot\_policy\_id = optional(string) / Worker node data disk auto snapshot policy.<br>  kms\_key\_id              = optional(string) / The id of the kms key.<br>  device                  = optional(string) / The device of the data disks.<br>  name                    = optional(string) / The name of the data disks.<br>  snapshot\_id             = optional(string) / The id of snapshot. | <pre>list(map(object({<br>    id                             = number<br>    worker_number                  = number<br>    worker_vswitch_ids             = list(string)<br>    name                           = optional(string)<br>    version                        = optional(string)<br>    security_group_id              = optional(string)<br>    is_enterprise_security_group   = optional(bool, false)<br>    rds_instances                  = optional(list(string))<br>    resource_group_id              = optional(string)<br>    deletion_protection            = optional(bool, false)<br>    force_update                   = optional(bool, false)<br>    tags                           = optional(map(string))<br>    retain_resources               = optional(list(string))<br>    cluster_spec                   = optional(string)<br>    runtime                        = optional(map(string))<br>    availability_zone              = optional(string)<br>    pod_cidr                       = optional(string)<br>    new_nat_gateway                = optional(bool, false)<br>    service_cidr                   = optional(string)<br>    node_cidr_mask                 = optional(number)<br>    slb_internet_enabled           = optional(bool, false)<br>    load_balancer_spec             = optional(string)<br>    password                       = optional(string)<br>    key_name                       = optional(string)<br>    worker_instance_charge_type    = optional(string)<br>    worker_disk_category           = optional(string)<br>    worker_disk_size               = optional(number)<br>    install_cloud_monitor          = optional(bool, false)<br>    proxy_mode                     = optional(string)<br>    user_data                      = optional(string)<br>    worker_disk_performance_level  = optional(string)<br>    worker_disk_snapshot_policy_id = optional(string)<br>    client_cert                    = optional(string)<br>    client_key                     = optional(string)<br>    cluster_ca_cert                = optional(string)<br>    addons = optional(list(object({<br>      name     = optional(string)<br>      config   = optional(string)<br>      disabled = optional(bool, false)<br>    })), [])<br>    worker_data_disks = optional(list(object({<br>      category                = optional(string)<br>      size                    = optional(string)<br>      encrypted               = optional(string)<br>      performance_level       = optional(string)<br>      auto_snapshot_policy_id = optional(string)<br>      kms_key_id              = optional(string)<br>      device                  = optional(string)<br>      name                    = optional(string)<br>      snapshot_id             = optional(string)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_ess_scaling_configurations"></a> [ess\_scaling\_configurations](#input\_ess\_scaling\_configurations) | Regex that match to the ess\_scaling\_configurations to be used as datasource. | `string` | `null` | no |
| <a name="input_ess_scaling_group"></a> [ess\_scaling\_group](#input\_ess\_scaling\_group) | max\_size                                 = number / Minimum number of ECS instances in the scaling group. Value range: [optional(number), 2optional(number)optional(number)optional(number)]<br>min\_size                                 = number / Maximum number of ECS instances in the scaling group. Value range: [optional(number), 2optional(number)optional(number)optional(number)]<br>desired\_capacity                         = optional(number) / Expected number of ECS instances in the scaling group.<br>scaling\_group\_name                       = optional(string) / Name shown for the scaling group.<br>default\_cooldown                         = optional(number) / Default cool-down time (in seconds) of the scaling group.<br>vswitch\_ids                              = optional(set(string)) / List of virtual switch IDs in which the ecs instances to be launched.<br>removal\_policies                         = optional(list(string)) / RemovalPolicy is used to select the ECS instances you want to remove from the scaling group when multiple candidates for removal exist.<br>db\_instance\_ids                          = optional(set(string)) / If an RDS instance is specified in the scaling group, the scaling group automatically attaches the Intranet IP addresses of its ECS instances to the RDS access whitelist.<br>loadbalancer\_ids                         = optional(set(string)) / If a Server Load Balancer instance is specified in the scaling group, the scaling group automatically attaches its ECS instances to the Server Load Balancer instance.<br>multi\_az\_policy                          = optional(string) / Multi-AZ scaling group ECS instance expansion and contraction strategy. PRIORITY, BALANCE or COST\_OPTIMIZED.<br>on\_demand\_percentage\_above\_base\_capacity = optional(number) / Controls the percentages of On-Demand Instances and Spot Instances for your additional capacity beyond OnDemandBaseCapacity.<br>on\_demand\_base\_capacity                  = optional(number) / The minimum amount of the Auto Scaling group's capacity that must be fulfilled by On-Demand Instances.<br>spot\_instance\_pools                      = optional(number) / The number of Spot pools to use to allocate your Spot capacity.<br>spot\_instance\_remedy                     = optional(number) / Whether to replace spot instances with newly created spot/onDemand instance when receive a spot recycling message.<br>group\_deletion\_protection                = optional(bool) / Specifies whether the scaling group deletion protection is enabled.<br>launch\_template\_id                       = optional(string) / Instance launch template ID, scaling group obtains launch configuration from instance launch template.<br>launch\_template\_version                  = optional(string) / The version number of the launch template (Latest or Default).<br>group\_type                               = optional(string) / Resource type within scaling group. values: ECS, ECI.<br>health\_check\_type                        = optional(string) / Resource type within scaling group. values: ECS, NONE.<br>protected\_instances                      = optional(set(string)) / Set or unset instances within group into protected status.<br>tags                                     = optional(map(string)) / A mapping of tags to assign to the resource. | <pre>list(map(object({<br>    id                                       = number<br>    max_size                                 = number<br>    min_size                                 = number<br>    desired_capacity                         = optional(number)<br>    scaling_group_name                       = optional(string)<br>    default_cooldown                         = optional(number)<br>    vswitch_ids                              = optional(set(string))<br>    removal_policies                         = optional(list(string))<br>    db_instance_ids                          = optional(set(string))<br>    loadbalancer_ids                         = optional(set(string))<br>    multi_az_policy                          = optional(string)<br>    on_demand_percentage_above_base_capacity = optional(number)<br>    on_demand_base_capacity                  = optional(number)<br>    spot_instance_pools                      = optional(number)<br>    spot_instance_remedy                     = optional(number)<br>    group_deletion_protection                = optional(bool, false)<br>    launch_template_id                       = optional(string)<br>    launch_template_version                  = optional(string)<br>    group_type                               = optional(string)<br>    health_check_type                        = optional(string)<br>    protected_instances                      = optional(set(string))<br>    tags                                     = optional(map(string))<br>  })))</pre> | `[]` | no |
| <a name="input_ess_scaling_groups"></a> [ess\_scaling\_groups](#input\_ess\_scaling\_groups) | Regex that match to the ess\_scaling\_groups to be used as datasource. | `string` | `null` | no |
| <a name="input_kms_key"></a> [kms\_key](#input\_kms\_key) | description             = optional(string) / The description of the CMK.<br>key\_usage               = optional(string) / The usage of the CMK. Valid values : ENCRYPT/DECRYPT and SIGN/VERIFY.<br>automatic\_rotation      = optional(string) / Specifies whether to enable automatic key rotation.<br>key\_spec                = optional(string) / The type of the CMK. Default value: Aliyun\_AES\_256.<br>status                  = optional(string) / The status of CMK. Valid values are Disable, Enabled, PendingDeletion.<br>origin                  = optional(string) / The source of key material. Valid values are Aliyub\_KMS and EXTERNAL.<br>pending\_window\_in\_days  = optional(number) / The number of days before the CMK is deleted.<br>protection\_level        = optional(string) / The protection level of the CMK. Valid values are SOFTWARE and HSM.<br>rotation\_interval       = optional(string) / The interval for automatic key rotation.<br>tags                    = optional(map(string)) / A mapping of tags to assign to the resource. | <pre>list(map(object({<br>    id                     = number<br>    description            = optional(string)<br>    key_usage              = optional(string)<br>    automatic_rotation     = optional(string)<br>    key_spec               = optional(string)<br>    status                 = optional(string)<br>    origin                 = optional(string)<br>    pending_window_in_days = optional(number)<br>    protection_level       = optional(string)<br>    rotation_interval      = optional(string)<br>    tags                   = optional(map(string))<br>  })))</pre> | `[]` | no |
| <a name="input_kms_keys"></a> [kms\_keys](#input\_kms\_keys) | Regex that match to the kms key to be used as datasource. | `string` | `null` | no |
| <a name="input_kubernetes_autoscaler"></a> [kubernetes\_autoscaler](#input\_kubernetes\_autoscaler) | cluster\_id              = number / ID of kubernetes cluster.<br>cool\_down\_duration      = string / The cool\_down\_duration option of cluster-autoscaler.<br>defer\_scale\_in\_duration = string / The defer\_scale\_in\_duration option of cluster-autoscaler.<br>utilization             = string / The utilization option of cluster-autoscaler. | <pre>list(map(object({<br>    id                      = number<br>    cluster_id              = number<br>    cool_down_duration      = string<br>    defer_scale_in_duration = string<br>    utilization             = string<br>    nodepools = optional(list(object({<br>      id     = optional(number)<br>      labels = optional(string)<br>      taints = optional(string)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_kubernetes_permission"></a> [kubernetes\_permission](#input\_kubernetes\_permission) | n/a | <pre>list(map(object({<br>    id   = number<br>    uuid = number<br>    permissions = optional(list(object({<br>      cluster     = number<br>      role_name   = string<br>      role_type   = string<br>      namespace   = optional(string)<br>      is_ram_role = optional(bool, true)<br>      is_custom   = optional(bool, false)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_load_balancer"></a> [load\_balancer](#input\_load\_balancer) | load\_balancer\_name             = optional(string)<br>address\_type                   = optional(string)<br>internet\_charge\_type           = optional(string)<br>instance\_charge\_type           = optional(string)<br>bandwidth                      = optional(number)<br>vswitch\_id                     = optional(string)<br>load\_balancer\_spec             = optional(string)<br>tags                           = optional(map(string))<br>payment\_type                   = optional(string)<br>period                         = optional(number)<br>delete\_protection              = optional(string)<br>address\_ip\_version             = optional(string)<br>address                        = optional(string)<br>resource\_group\_id              = optional(string)<br>modification\_protection\_reason = optional(string)<br>modification\_protection\_status = optional(string)<br>status                         = optional(string)<br>specification                  = optional(string) | <pre>list(map(object({<br>    id                             = number<br>    load_balancer_name             = optional(string)<br>    address_type                   = optional(string)<br>    internet_charge_type           = optional(string)<br>    instance_charge_type           = optional(string)<br>    bandwidth                      = optional(number)<br>    vswitch_id                     = optional(string)<br>    load_balancer_spec             = optional(string)<br>    tags                           = optional(map(string))<br>    payment_type                   = optional(string)<br>    period                         = optional(number)<br>    delete_protection              = optional(string)<br>    address_ip_version             = optional(string)<br>    address                        = optional(string)<br>    resource_group_id              = optional(string)<br>    modification_protection_reason = optional(string)<br>    modification_protection_status = optional(string)<br>    status                         = optional(string)<br>    specification                  = optional(string)<br>  })))</pre> | `[]` | no |
| <a name="input_load_balancers"></a> [load\_balancers](#input\_load\_balancers) | Regex that match to the classic load balancer to be used as datasource. | `string` | `null` | no |
| <a name="input_managed_kubernetes"></a> [managed\_kubernetes](#input\_managed\_kubernetes) | worker\_vswitch\_ids           = list(string) / The vswitches used by control plane.<br>name                         = optional(string) / The kubernetes cluster's name.<br>timezone                     = optional(string) / When you create a cluster, set the time zones for the Master and Worker nodes.<br>resource\_group\_id            = optional(string) / The ID of the resource group.<br>version                      = optional(string) / Desired Kubernetes version.<br>security\_group\_id            = optional(string) / The ID of the security group to which the ECS instances in the cluster belong.<br>is\_enterprise\_security\_group = optional(bool) / Enable to create advanced security group.<br>proxy\_mode                   = optional(string) / Proxy mode is option of kube-proxy.<br>cluster\_domain               = optional(string) / Cluster local domain name, Default to cluster.local.<br>custom\_san                   = optional(string) / Customize the certificate SAN, multiple IP or domain names are separated by English commas (,).<br>user\_ca                      = optional(string) / The path of customized CA cert.<br>deletion\_protection          = optional(bool) / Whether to enable cluster deletion protection.<br>enable\_rrsa                  = optional(bool) / Whether to enable cluster to support RRSA.<br>service\_account\_issuer       = optional(string) / The issuer of the Service Account token<br>api\_audiences                = optional(list(string)) / A list of API audiences for Service Account Token Volume Projection. Set this to ["https://kubernetes.default.svc"] if you want to enable the Token Volume Projection feature.<br>tags                         = optional(map(string)) / A map of tags assigned to the kubernetes cluster and work nodes.<br>cluster\_spec                 = optional(string) / The cluster specifications of kubernetes cluster,which can be empty.<br>encryption\_provider\_key\_id   = optional(string) / The disk encryption key.<br>load\_balancer\_spec           = optional(string) / The cluster api server load balance instance specification<br>control\_plane\_log\_ttl        = optional(string) / Control plane log retention duration<br>control\_plane\_log\_components = optional(list(string)) / List of target components for which logs need to be collected.<br>control\_plane\_log\_project    = optional(string) / Control plane log project.<br>retain\_resources             = optional(list(string)) / Resources that are automatically created during cluster creation, including NAT gateways, SNAT rules, SLB instances, and RAM Role, will be deleted.<br>pod\_cidr                     = optional(string) / The CIDR block for the pod network when using Flannel.<br>pod\_vswitch\_ids              = optional(list(string)) / The vswitches for the pod network when using Terway.<br>new\_nat\_gateway              = optional(bool, false) / Whether to create a new nat gateway while creating kubernetes cluster.<br>service\_cidr                 = optional(string) / The CIDR block for the service network.<br>node\_cidr\_mask               = optional(number) / The node cidr block to specific how many pods can run on single node.<br>slb\_internet\_enabled         = optional(bool) / Whether to create internet load balancer for API Server.<br>client\_cert                  = optional(string) / The path of client certificate<br>client\_key                   = optional(string) / The path of client key<br>cluster\_ca\_cert              = optional(string) / The path of cluster ca certificate<br>availability\_zone            = optional(string) / The Zone where new kubernetes cluster will be located.<br>addons = optional(list(object))<br>  name     = optional(string) / This parameter specifies the name of the component.<br>  config   = optional(string) / If this parameter is left empty, no configurations are required.<br>  disabled = optional(bool) / It specifies whether to disable automatic installation.<br>worker\_data\_disks = optional(list(object))<br>  kms\_key\_id              = optional(string) / The ID of the Key Management Service (KMS) key to use for data disk N.<br>  device                  = optional(string) / The mount point of data disk N.<br>  name                    = optional(string) / The name of data disk N.<br>  snapshot\_id             = optional(string) / The ID of the snapshot to be used to create data disk N.<br>maintenance\_window = optional(list(object))<br>  duration         = optional(string) / The maintenance time, values range from 1 to 24,unit is hour.<br>  enable           = optional(bool) / Whether to open the maintenance window.<br>  maintenance\_time = optional(string) / Initial maintenance time, For example:"03:00:00Z".<br>  weekly\_period    = optional(string) / Maintenance cycle, you can set the values from Monday to Sunday, separated by commas when the values are multiple.<br>log\_config = optional(list(object))<br>  type    = optional(string) / Type of collecting logs, only SLS are supported currently.<br>  project = optional(string) / Log Service project name, cluster logs will output to this project.<br>taints = optional(list(object))<br>  key    = optional(string) / The taint key.<br>  value  = optional(string) / The taint value.<br>  effect = optional(string) / The taint effect. | <pre>list(map(object({<br>    id                           = number<br>    worker_vswitch_ids           = list(string)<br>    name                         = optional(string)<br>    timezone                     = optional(string)<br>    resource_group_id            = optional(string)<br>    version                      = optional(string)<br>    security_group_id            = optional(string)<br>    is_enterprise_security_group = optional(bool, false)<br>    proxy_mode                   = optional(string)<br>    cluster_domain               = optional(string)<br>    custom_san                   = optional(string)<br>    user_ca                      = optional(string)<br>    deletion_protection          = optional(bool, false)<br>    enable_rrsa                  = optional(bool, false)<br>    service_account_issuer       = optional(string)<br>    api_audiences                = optional(list(string))<br>    tags                         = optional(map(string))<br>    cluster_spec                 = optional(string)<br>    encryption_provider_key_id   = optional(string)<br>    load_balancer_spec           = optional(string)<br>    control_plane_log_ttl        = optional(string)<br>    control_plane_log_components = optional(list(string))<br>    control_plane_log_project    = optional(string)<br>    retain_resources             = optional(list(string))<br>    pod_cidr                     = optional(string)<br>    pod_vswitch_ids              = optional(list(string))<br>    new_nat_gateway              = optional(bool, false)<br>    service_cidr                 = optional(string)<br>    node_cidr_mask               = optional(number)<br>    slb_internet_enabled         = optional(bool, false)<br>    client_cert                  = optional(string)<br>    client_key                   = optional(string)<br>    cluster_ca_cert              = optional(string)<br>    availability_zone            = optional(string)<br>    addons = optional(list(object({<br>      name     = optional(string)<br>      config   = optional(string)<br>      disabled = optional(bool, false)<br>    })), [])<br>    worker_data_disks = optional(list(object({<br>      kms_key_id  = optional(string)<br>      device      = optional(string)<br>      name        = optional(string)<br>      snapshot_id = optional(string)<br>    })), [])<br>    maintenance_window = optional(list(object({<br>      duration         = optional(string)<br>      enable           = optional(bool, false)<br>      maintenance_time = optional(string)<br>      weekly_period    = optional(string)<br>    })), [])<br>    log_config = optional(list(object({<br>      type    = optional(string)<br>      project = optional(string)<br>    })), [])<br>    taints = optional(list(object({<br>      key    = optional(string)<br>      value  = optional(string)<br>      effect = optional(string)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_node_pool"></a> [node\_pool](#input\_node\_pool) | n/a | <pre>list(map(object({<br>    id                            = number<br>    cluster_id                    = number<br>    instance_types                = list(string)<br>    name                          = string<br>    vswitch_ids                   = list(number)<br>    password                      = optional(string)<br>    key_name                      = optional(string)<br>    kms_encrypted_password        = optional(string)<br>    kms_encryption_context        = optional(map(string))<br>    desired_size                  = optional(number)<br>    system_disk_category          = optional(string)<br>    system_disk_size              = optional(number)<br>    system_disk_performance_level = optional(string)<br>    scaling_policy                = optional(string)<br>    instance_charge_type          = optional(string)<br>    period                        = optional(number)<br>    period_unit                   = optional(string)<br>    auto_renew                    = optional(bool, false)<br>    auto_renew_period             = optional(number)<br>    install_cloud_monitor         = optional(bool, false)<br>    unschedulable                 = optional(bool, false)<br>    resource_group_id             = optional(number)<br>    internet_charge_type          = optional(string)<br>    internet_max_bandwidth_out    = optional(number)<br>    spot_strategy                 = optional(string)<br>    keep_instance_name            = optional(bool, false)<br>    format_disk                   = optional(bool, false)<br>    image_type                    = optional(string)<br>    runtime_name                  = optional(string)<br>    runtime_version               = optional(string)<br>    cis_enabled                   = optional(bool, false)<br>    soc_enabled                   = optional(bool, false)<br>    rds_instances                 = optional(list(string))<br>    cpu_policy                    = optional(string)<br>    node_name_mode                = optional(string)<br>    user_data                     = optional(string)<br>    tags                          = optional(map(string))<br>    data_disks = optional(list(object({<br>      category          = optional(string)<br>      size              = optional(number)<br>      encrypted         = optional(string)<br>      performance_level = optional(string)<br>      kms_key_id        = optional(number)<br>      device            = optional(string)<br>      name              = optional(string)<br>    })), [])<br>    labels = optional(list(object({<br>      key   = optional(string)<br>      value = optional(string)<br>    })), [])<br>    taints = optional(list(object({<br>      key    = optional(string)<br>      value  = optional(string)<br>      effect = optional(string)<br>    })), [])<br>    management = optional(list(object({<br>      max_unavailable  = optional(number)<br>      auto_repair      = optional(bool, false)<br>      auto_upgrade     = optional(bool, false)<br>      surge            = optional(number)<br>      surge_percentage = optional(number)<br>    })), [])<br>    scaling_config = optional(list(object({<br>      max_size                 = optional(number)<br>      min_size                 = optional(number)<br>      type                     = optional(string)<br>      is_bond_eip              = optional(bool, false)<br>      eip_internet_charge_type = optional(string)<br>      eip_bandwidth            = optional(number)<br>    })), [])<br>    spot_price_limit = optional(list(object({<br>      instance_type = optional(string)<br>      price_limit   = optional(string)<br>    })), [])<br>    kubelet_configuration = optional(list(object({<br>      registry_burst             = optional(string)<br>      registry_pull_qps          = optional(string)<br>      event_record_qps           = optional(string)<br>      event_burst                = optional(string)<br>      kube_api_burst             = optional(string)<br>      kube_api_qps               = optional(string)<br>      kube_reserved              = optional(map(string))<br>      serialize_image_pulls      = optional(string)<br>      cpu_manager_policy         = optional(string)<br>      eviction_hard              = optional(map(string))<br>      eviction_soft              = optional(map(string))<br>      eviction_soft_grace_period = optional(map(string))<br>      system_reserved            = optional(map(string))<br>    })), [])<br>    rolling_policy = optional(list(object({<br>      max_parallelism = optional(number)<br>    })), [])<br>    rollout_policy = optional(list(object({<br>      max_unavailable = optional(string)<br>    })))<br>  })))</pre> | `[]` | no |
| <a name="input_policy_attachement"></a> [policy\_attachement](#input\_policy\_attachement) | n/a | <pre>list(map(object({<br>    id        = number<br>    policy_id = number<br>    user_id   = number<br>  })))</pre> | `[]` | no |
| <a name="input_ram_policy"></a> [ram\_policy](#input\_ram\_policy) | n/a | <pre>list(map(object({<br>    id              = number<br>    policy_name     = optional(string)<br>    policy_document = optional(string)<br>    description     = optional(string)<br>    force           = optional(bool, false)<br>  })))</pre> | `[]` | no |
| <a name="input_ram_user"></a> [ram\_user](#input\_ram\_user) | n/a | <pre>list(map(object({<br>    id           = number<br>    name         = optional(string)<br>    display_name = optional(string)<br>  })))</pre> | `[]` | no |
| <a name="input_resource_group"></a> [resource\_group](#input\_resource\_group) | display\_name        = string / The display name of the resource group.<br>resource\_group\_name = optional(string) / The unique identifier of the resource group. | <pre>list(map(object({<br>    id                  = number<br>    display_name        = string<br>    resource_group_name = optional(string)<br>  })))</pre> | `[]` | no |
| <a name="input_resource_groups"></a> [resource\_groups](#input\_resource\_groups) | Regex that match the resource group to be used as datasource. | `string` | `null` | no |
| <a name="input_scaling_configuration"></a> [scaling\_configuration](#input\_scaling\_configuration) | scaling\_group\_id  = optional(string) / ID of the scaling group of a scaling configuration.<br>image\_id          = optional(string) / ID of an image file, indicating the image resource selected when an instance is enabled.<br>instance\_type     = optional(string) / Resource type of an ECS instance.<br>security\_group\_id = optional(string) / ID of the security group used to create new instance.<br>force\_delete      = optional(bool) / The last scaling configuration will be deleted forcibly with deleting its scaling group.<br>active            = optional(bool) / Whether active current scaling configuration in the specified scaling group. | <pre>list(map(object({<br>    id                = number<br>    scaling_group_id  = optional(string)<br>    image_id          = optional(string)<br>    instance_type     = optional(string)<br>    security_group_id = optional(string)<br>    force_delete      = optional(bool, false)<br>    active            = optional(bool, false)<br>    tags              = optional(map(string))<br>  })))</pre> | `[]` | no |
| <a name="input_security_group"></a> [security\_group](#input\_security\_group) | name                = optional(string) / The name of the security group.<br>description         = optional(string) / The security group description.<br>vpc\_id              = optional(string) / The VPC ID.<br>resource\_group\_id   = optional(string) / The Id of resource group which the security\_group belongs.<br>security\_group\_type = optional(string) / The type of the security group. Valid values: normal: basic security group. enterprise: advanced security group.<br>inner\_access\_policy = optional(string) / Whether to allow both machines to access each other on all ports in the same security group. Valid values: ["Accept", "Drop"]<br>tags                = optional(map(string)) / The tags of VSwitch. | <pre>list(map(object({<br>    id                  = number<br>    name                = optional(string)<br>    description         = optional(string)<br>    vpc_id              = optional(string)<br>    resource_group_id   = optional(string)<br>    security_group_type = optional(string)<br>    inner_access_policy = optional(string)<br>    tags                = optional(map(string))<br>  })))</pre> | `[]` | no |
| <a name="input_security_groups"></a> [security\_groups](#input\_security\_groups) | Regex that match the security group to be used as datasource. | `string` | `null` | no |
| <a name="input_serverless_kubernetes"></a> [serverless\_kubernetes](#input\_serverless\_kubernetes) | n/a | <pre>list(map(object({<br>    id                             = number<br>    vpc_id                         = number<br>    name                           = optional(string)<br>    version                        = optional(string)<br>    vswitch_ids                    = optional(list(number))<br>    new_nat_gateway                = optional(bool, false)<br>    endpoint_public_access_enabled = optional(bool, false)<br>    service_discovery_types        = optional(list(string))<br>    deletion_protection            = optional(bool, fase)<br>    enable_rrsa                    = optional(bool, false)<br>    force_update                   = optional(bool, false)<br>    tags                           = optional(map(string))<br>    client_cert                    = optional(string)<br>    client_key                     = optional(string)<br>    cluster_ca_cert                = optional(string)<br>    security_group_id              = optional(number)<br>    resource_group_id              = optional(number)<br>    load_balancer_spec             = optional(string)<br>    time_zone                      = optional(string)<br>    zone_id                        = optional(number)<br>    service_cidr                   = optional(string)<br>    logging_type                   = optional(string)<br>    sls_project_name               = optional(string)<br>    retain_resources               = optional(list(string))<br>    cluster_spec                   = optional(string)<br>    create_v2_cluster              = optional(bool, false)<br>    addons = optional(list(object({<br>      name     = optional(string)<br>      config   = optional(string)<br>      disabled = optional(bool, false)<br>    })), [])<br>  })))</pre> | `[]` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | map of strings which contains all the generic tags to apply on the resources. | `map(string)` | `{}` | no |
| <a name="input_vpc"></a> [vpc](#input\_vpc) | vpc\_name              = optional(string)<br>cidr\_block            = optional(string) / The CIDR block for the VPC.<br>classic\_link\_enabled  = optional(bool, false) / The status of ClassicLink function.<br>description           = optional(string) / The VPC description.<br>dry\_run               = optional(bool) / if true : sends a check request and does not create a VPC.<br>enable\_ipv6           = optional(bool) / Whether to enable the IPv6 network segment.<br>ipv6\_isp              = optional(string) / The IPv6 address segment type of the VPC.<br>resource\_group\_id     = optional(string) / The ID of the resource group to which the VPC belongs.<br>tags                  = optional(map(string)) / The tags of Vpc.<br>user\_cidrs            = optional(list(string)) / A list of user CIDRs. | <pre>list(map(object({<br>    id                   = number<br>    vpc_name             = optional(string)<br>    cidr_block           = optional(string)<br>    classic_link_enabled = optional(bool, false)<br>    description          = optional(string)<br>    dry_run              = optional(bool, false)<br>    enable_ipv6          = optional(bool, false)<br>    ipv6_isp             = optional(string)<br>    resource_group_id    = optional(string)<br>    tags                 = optional(map(string))<br>    user_cidrs           = optional(list(string))<br>  })))</pre> | `[]` | no |
| <a name="input_vpcs"></a> [vpcs](#input\_vpcs) | Regex that match the VPC name to be used as datasource. | `string` | `null` | no |
| <a name="input_vswitch"></a> [vswitch](#input\_vswitch) | vswitch\_name         = optional(string) / The name of the VSwitch.<br>cidr\_block           = string / The IPv4 CIDR block of the VSwitch.<br>vpc\_id               = string / The VPC ID.<br>description          = optional(string) / The description of VSwitch.<br>zone\_id              = optional(string) / The AZ for the VSwitch. Note: Required for a VPC VSwitch.<br>enable\_ipv6          = optional(bool) / Whether the IPv6 function is enabled in the switch.<br>ipv6\_cidr\_block\_mask = optional(bool) / The IPv6 CIDR block of the VSwitch.<br>tags                 = optional(map(string)) / The tags of VSwitch. | <pre>list(map(object({<br>    id                   = number<br>    vswitch_name         = optional(string)<br>    cidr_block           = string<br>    vpc_id               = string<br>    description          = optional(string)<br>    zone_id              = optional(string)<br>    enable_ipv6          = optional(bool, false)<br>    ipv6_cidr_block_mask = optional(bool, false)<br>    tags                 = optional(map(string))<br>  })))</pre> | `[]` | no |
| <a name="input_vswitches"></a> [vswitches](#input\_vswitches) | Regex that match the vswitch name to be used as datasource. | `string` | `null` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_kms_keys"></a> [kms\_keys](#output\_kms\_keys) | n/a |
| <a name="output_kubernetes_clusters"></a> [kubernetes\_clusters](#output\_kubernetes\_clusters) | n/a |
| <a name="output_kubernetes_node_pool"></a> [kubernetes\_node\_pool](#output\_kubernetes\_node\_pool) | n/a |
| <a name="output_policy"></a> [policy](#output\_policy) | n/a |
| <a name="output_scaling_configurations"></a> [scaling\_configurations](#output\_scaling\_configurations) | n/a |
| <a name="output_scaling_groups"></a> [scaling\_groups](#output\_scaling\_groups) | n/a |
| <a name="output_security_groups"></a> [security\_groups](#output\_security\_groups) | n/a |
| <a name="output_vpcs"></a> [vpcs](#output\_vpcs) | n/a |
| <a name="output_vswitches"></a> [vswitches](#output\_vswitches) | n/a |
