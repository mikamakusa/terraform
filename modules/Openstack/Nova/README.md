## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | 1.8.3 |
| <a name="requirement_openstack"></a> [openstack](#requirement\_openstack) | 1.54.1 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_openstack"></a> [openstack](#provider\_openstack) | 1.54.1 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [openstack_compute_aggregate_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_aggregate_v2) | resource |
| [openstack_compute_flavor_access_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_flavor_access_v2) | resource |
| [openstack_compute_flavor_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_flavor_v2) | resource |
| [openstack_compute_instance_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_instance_v2) | resource |
| [openstack_compute_interface_attach_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_interface_attach_v2) | resource |
| [openstack_compute_keypair_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_keypair_v2) | resource |
| [openstack_compute_quotaset_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_quotaset_v2) | resource |
| [openstack_compute_servergroup_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_servergroup_v2) | resource |
| [openstack_compute_volume_attach_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/resources/compute_volume_attach_v2) | resource |
| [openstack_blockstorage_volume_v3.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/data-sources/blockstorage_volume_v3) | data source |
| [openstack_identity_project_v3.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/data-sources/identity_project_v3) | data source |
| [openstack_images_image_v2.this](https://registry.terraform.io/providers/terraform-provider-openstack/openstack/1.54.1/docs/data-sources/images_image_v2) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_aggregate_v2"></a> [aggregate\_v2](#input\_aggregate\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to create the Host Aggregate. If omitted, the region argument of the provider is used. Changing this creates a new Host Aggregate.<br>name - The name of the Host Aggregate<br>zone - (Optional) The name of the Availability Zone to use. If ommited, it will take the default availability zone.<br>hosts - (Optional) The list of hosts contained in the Host Aggregate. The hosts must be added to Openstack and visible in the web interface, or the provider will fail to add them to the host aggregate.<br>metadata - (Optional) The metadata of the Host Aggregate. Can be useful to indicate scheduler hints. | <pre>list(object({<br>    id       = number<br>    name     = string<br>    zone     = optional(string)<br>    hosts    = optional(list(string))<br>    metadata = optional(map(string))<br>  }))</pre> | `[]` | no |
| <a name="input_flavor_access_v2"></a> [flavor\_access\_v2](#input\_flavor\_access\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to obtain the V2 Compute client. If omitted, the region argument of the provider is used. Changing this creates a new flavor access.<br>flavor\_id - (Required) The UUID of flavor to use. Changing this creates a new flavor access. | <pre>list(object({<br>    id        = number<br>    flavor_id = number<br>  }))</pre> | `[]` | no |
| <a name="input_flavor_v2"></a> [flavor\_v2](#input\_flavor\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to obtain the V2 Compute client. Flavors are associated with accounts, but a Compute client is needed to create one. If omitted, the region argument of the provider is used. Changing this creates a new flavor.<br>name - (Required) A unique name for the flavor. Changing this creates a new flavor.<br>description - (Optional) The description of the flavor. Changing this updates the description of the flavor. Requires microversion >= 2.55.<br>ram - (Required) The amount of RAM to use, in megabytes. Changing this creates a new flavor.<br>flavor\_id - (Optional) Unique ID (integer or UUID) of flavor to create. Changing this creates a new flavor.<br>vcpus - (Required) The number of virtual CPUs to use. Changing this creates a new flavor.<br>disk - (Required) The amount of disk space in GiB to use for the root (/) partition. Changing this creates a new flavor.<br>ephemeral - (Optional) The amount of ephemeral in GiB. If unspecified, the default is 0. Changing this creates a new flavor.<br>swap - (Optional) The amount of disk space in megabytes to use. If unspecified, the default is 0. Changing this creates a new flavor.<br>rx\_tx\_factor - (Optional) RX/TX bandwith factor. The default is 1. Changing this creates a new flavor.<br>is\_public - (Optional) Whether the flavor is public. Changing this creates a new flavor.<br>extra\_specs - (Optional) Key/Value pairs of metadata for the flavor. | <pre>list(object({<br>    id           = number<br>    disk         = number<br>    name         = string<br>    ram          = number<br>    vcpus        = number<br>    description  = optional(string)<br>    flavor_id    = optional(string)<br>    ephemeral    = optional(bool)<br>    swap         = optional(number)<br>    rx_tx_factor = optional(number)<br>    is_public    = optional(bool)<br>    extra_specs  = optional(map(string))<br>  }))</pre> | `[]` | no |
| <a name="input_image_name"></a> [image\_name](#input\_image\_name) | n/a | `string` | `null` | no |
| <a name="input_instance_v2"></a> [instance\_v2](#input\_instance\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to create the server instance. If omitted, the region argument of the provider is used. Changing this creates a new server.<br>name - (Required) A unique name for the resource.<br>image\_id - (Optional; Required if image\_name is empty and not booting from a volume. Do not specify if booting from a volume.) The image ID of the desired image for the server. Changing this rebuilds the existing server.<br>image\_name - (Optional; Required if image\_id is empty and not booting from a volume. Do not specify if booting from a volume.) The name of the desired image for the server. Changing this rebuilds the existing server.<br>flavor\_id - (Optional; Required if flavor\_name is empty) The flavor ID of the desired flavor for the server. Changing this resizes the existing server.<br>flavor\_name - (Optional; Required if flavor\_id is empty) The name of the desired flavor for the server. Changing this resizes the existing server.<br>user\_data - (Optional) The user data to provide when launching the instance. Changing this creates a new server.<br>security\_groups - (Optional) An array of one or more security group names to associate with the server. Changing this results in adding/removing security groups from the existing server. Note: When attaching the instance to networks using Ports, place the security groups on the Port and not the instance. Note: Names should be used and not ids, as ids trigger unnecessary updates.<br>availability\_zone\_hints - (Optional) The availability zone in which to create the server. This argument is preferred to availability\_zone, when scheduling the server on a particular host or node. Conflicts with availability\_zone. Changing this creates a new server.<br>availability\_zone - (Optional) The availability zone in which to create the server. Conflicts with availability\_zone\_hints. Changing this creates a new server.<br>network - (Optional) An array of one or more networks to attach to the instance. The network object structure is documented below. Changing this creates a new server.<br>network\_mode - (Optional) Special string for network option to create the server. network\_mode can be "auto" or "none". Please see the following reference for more information. Conflicts with network.<br>metadata - (Optional) Metadata key/value pairs to make available from within the instance. Changing this updates the existing server metadata.<br>config\_drive - (Optional) Whether to use the config\_drive feature to configure the instance. Changing this creates a new server.<br>admin\_pass - (Optional) The administrative password to assign to the server. Changing this changes the root password on the existing server.<br>key\_pair - (Optional) The name of a key pair to put on the server. The key pair must already be created and associated with the tenant's account. Changing this creates a new server.<br>block\_device - (Optional) Configuration of block devices. The block\_device structure is documented below. Changing this creates a new server. You can specify multiple block devices which will create an instance with multiple disks. This configuration is very flexible, so please see the following reference for more information.<br>scheduler\_hints - (Optional) Provide the Nova scheduler with hints on how the instance should be launched. The available hints are described below.<br>personality - (Optional) Customize the personality of an instance by defining one or more files and their contents. The personality structure is described below. Changing this rebuilds the existing server.<br>stop\_before\_destroy - (Optional) Whether to try stop instance gracefully before destroying it, thus giving chance for guest OS daemons to stop correctly. If instance doesn't stop within timeout, it will be destroyed anyway.<br>force\_delete - (Optional) Whether to force the OpenStack instance to be forcefully deleted. This is useful for environments that have reclaim / soft deletion enabled.<br>power\_state - (Optional) Provide the VM state. Only 'active', 'shutoff' and 'shelved\_offloaded' are supported values. Note: If the initial power\_state is the shutoff the VM will be stopped immediately after build and the provisioners like remote-exec or files are not supported.<br>tags - (Optional) A set of string tags for the instance. Changing this updates the existing instance tags.<br>vendor\_options - (Optional) Map of additional vendor-specific options. Supported options are described below.<br><br>The network block supports:<br>uuid - (Required unless port or name is provided) The network UUID to attach to the server. Changing this creates a new server.<br>name - (Required unless uuid or port is provided) The human-readable name of the network. Changing this creates a new server.<br>port - (Required unless uuid or name is provided) The port UUID of a network to attach to the server. Changing this creates a new server.<br>fixed\_ip\_v4 - (Optional) Specifies a fixed IPv4 address to be used on this network. Changing this creates a new server.<br>access\_network - (Optional) Specifies if this network should be used for provisioning access. Accepts true or false. Defaults to false.<br><br>The block\_device block supports:<br>uuid - (Required unless source\_type is set to "blank" ) The UUID of the image, volume, or snapshot. Changing this creates a new server.<br>source\_type - (Required) The source type of the device. Must be one of "blank", "image", "volume", or "snapshot". Changing this creates a new server.<br>volume\_size - The size of the volume to create (in gigabytes). Required in the following combinations: source=image and destination=volume, source=blank and destination=local, and source=blank and destination=volume. Changing this creates a new server.<br>guest\_format - (Optional) Specifies the guest server disk file system format, such as ext2, ext3, ext4, xfs or swap. Swap block device mappings have the following restrictions: source\_type must be blank and destination\_type must be local and only one swap disk per server and the size of the swap disk must be less than or equal to the swap size of the flavor. Changing this creates a new server.<br>boot\_index - (Optional) The boot index of the volume. It defaults to 0. Changing this creates a new server.<br>destination\_type - (Optional) The type that gets created. Possible values are "volume" and "local". Changing this creates a new server.<br>delete\_on\_termination - (Optional) Delete the volume / block device upon termination of the instance. Defaults to false. Changing this creates a new server.<br>volume\_type - (Optional) The volume type that will be used, for example SSD or HDD storage. The available options depend on how your specific OpenStack cloud is configured and what classes of storage are provided. Changing this creates a new server.<br>device\_type - (Optional) The low-level device type that will be used. Most common thing is to leave this empty. Changing this creates a new server.<br>disk\_bus - (Optional) The low-level disk bus that will be used. Most common thing is to leave this empty. Changing this creates a new server.<br>multiattach - (Optional) Enable the attachment of multiattach-capable volumes.<br><br>The scheduler\_hints block supports:<br>group - (Optional) A UUID of a Server Group. The instance will be placed into that group.<br>different\_host - (Optional) A list of instance UUIDs. The instance will be scheduled on a different host than all other instances.<br>same\_host - (Optional) A list of instance UUIDs. The instance will be scheduled on the same host of those specified.<br>query - (Optional) A conditional query that a compute node must pass in order to host an instance. The query must use the JsonFilter syntax which is described here. At this time, only simple queries are supported. Compound queries using and, or, or not are not supported. An example of a simple query is:<br>[">=", "$free\_ram\_mb", "1024"]<br>Copy<br>target\_cell - (Optional) The name of a cell to host the instance.<br>different\_cell - (Optional) The names of cells where not to build the instance.<br>build\_near\_host\_ip - (Optional) An IP Address in CIDR form. The instance will be placed on a compute node that is in the same subnet.<br>additional\_properties - (Optional) Arbitrary key/value pairs of additional properties to pass to the scheduler.<br><br>The personality block supports:<br>file - (Required) The absolute path of the destination file.<br>content - (Required) The contents of the file. Limited to 255 bytes.<br><br>The vendor\_options block supports:<br>ignore\_resize\_confirmation - (Optional) Boolean to control whether to ignore manual confirmation of the instance resizing. This can be helpful to work with some OpenStack clouds which automatically confirm resizing of instances after some timeout.<br>detach\_ports\_before\_destroy - (Optional) Whether to try to detach all attached ports to the vm before destroying it to make sure the port state is correct after the vm destruction. This is helpful when the port is not deleted. | <pre>list(object({<br>    id                      = number<br>    name                    = string<br>    image_id                = optional(number)<br>    flavor_id               = optional(number)<br>    user_data               = optional(string)<br>    security_groups         = optional(list(string))<br>    availability_zone_hints = optional(string)<br>    availability_zone       = optional(string)<br>    network_mode            = optional(string)<br>    metadata                = optional(map(string))<br>    config_drive            = optional(bool)<br>    admin_pass              = optional(string)<br>    key_pair                = optional(string)<br>    stop_before_destroy     = optional(bool)<br>    force_delete            = optional(bool)<br>    power_state             = optional(string)<br>    tags                    = optional(list(string))<br>    network = optional(list(object({<br>      uuid           = string<br>      name           = string<br>      port           = string<br>      fixed_ip_v4    = optional(string)<br>      fixed_ip_v6    = optional(string)<br>      access_network = optional(bool)<br>    })), [])<br>    block_device = optional(list(object({<br>      source_type           = string<br>      uuid                  = optional(string)<br>      disk_bus              = optional(string)<br>      volume_size           = optional(number)<br>      volume_type           = optional(string)<br>      guest_format          = optional(string)<br>      boot_index            = optional(number)<br>      destination_type      = optional(string)<br>      delete_on_termination = optional(bool)<br>      device_type           = optional(string)<br>      multiattach           = optional(bool)<br>    })), [])<br>    scheduler_hints = optional(list(object({<br>      group                 = optional(string)<br>      different_host        = optional(list(string))<br>      same_host             = optional(list(string))<br>      query                 = optional(list(string))<br>      target_cell           = optional(string)<br>      different_cell        = optional(list(string))<br>      build_near_host_ip    = optional(string)<br>      additional_properties = optional(map(string))<br>    })), [])<br>    personality = optional(list(object({<br>      content = string<br>      file    = string<br>    })), [])<br>    vendor_options = optional(list(object({<br>      ignore_resize_confirmation  = optional(bool)<br>      detach_ports_before_destroy = optional(bool)<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_interface_attach_v2"></a> [interface\_attach\_v2](#input\_interface\_attach\_v2) | The following attributes are exported:<br>region - See Argument Reference above.<br>instance\_id - See Argument Reference above.<br>port\_id - See Argument Reference above.<br>network\_id - See Argument Reference above.<br>fixed\_ip - See Argument Reference above. | <pre>list(object({<br>    id          = number<br>    instance_id = number<br>    port_id     = optional(string)<br>    network_id  = optional(number)<br>    fixed_ip    = optional(string)<br>  }))</pre> | `[]` | no |
| <a name="input_keypair_v2"></a> [keypair\_v2](#input\_keypair\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to obtain the V2 Compute client. Keypairs are associated with accounts, but a Compute client is needed to create one. If omitted, the region argument of the provider is used. Changing this creates a new keypair.<br>name - (Required) A unique name for the keypair. Changing this creates a new keypair.<br>public\_key - (Optional) A pregenerated OpenSSH-formatted public key. Changing this creates a new keypair. If a public key is not specified, then a public/private key pair will be automatically generated. If a pair is created, then destroying this resource means you will lose access to that keypair forever.<br>user\_id - (Optional) This allows administrative users to operate key-pairs of specified user ID. For this feature your need to have openstack microversion 2.10 (Liberty) or later.<br>value\_specs - (Optional) Map of additional options. | <pre>list(object({<br>    id          = number<br>    name        = string<br>    public_key  = optional(string)<br>    user_id     = optional(string)<br>    value_specs = optional(map(string))<br>  }))</pre> | `[]` | no |
| <a name="input_metadata"></a> [metadata](#input\_metadata) | n/a | `map(string)` | `{}` | no |
| <a name="input_project_name"></a> [project\_name](#input\_project\_name) | n/a | `string` | n/a | yes |
| <a name="input_quotaset_v2"></a> [quotaset\_v2](#input\_quotaset\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to create the volume. If omitted, the region argument of the provider is used. Changing this creates a new quotaset.<br>project\_id - (Required) ID of the project to manage quotas. Changing this creates a new quotaset.<br>fixed\_ips - (Optional) Quota value for fixed IPs. Changing this updates the existing quotaset.<br>floating\_ips - (Optional) Quota value for floating IPs. Changing this updates the existing quotaset.<br>injected\_file\_content\_bytes - (Optional) Quota value for content bytes of injected files. Changing this updates the existing quotaset.<br>injected\_file\_path\_bytes - (Optional) Quota value for path bytes of injected files. Changing this updates the existing quotaset.<br>injected\_files - (Optional) Quota value for injected files. Changing this updates the existing quotaset.<br>key\_pairs - (Optional) Quota value for key pairs. Changing this updates the existing quotaset.<br>metadata\_items - (Optional) Quota value for metadata items. Changing this updates the existing quotaset.<br>ram - (Optional) Quota value for RAM. Changing this updates the existing quotaset.<br>security\_group\_rules - (Optional) Quota value for security group rules. Changing this updates the existing quotaset.<br>security\_groups - (Optional) Quota value for security groups. Changing this updates the existing quotaset.<br>cores - (Optional) Quota value for cores. Changing this updates the existing quotaset.<br>instances - (Optional) Quota value for instances. Changing this updates the existing quotaset.<br>server\_groups - (Optional) Quota value for server groups. Changing this updates the existing quotaset.<br>server\_group\_members - (Optional) Quota value for server groups members. Changing this updates the existing quotaset. | <pre>list(object({<br>    id                          = number<br>    fixed_ips                   = optional(number)<br>    floating_ips                = optional(number)<br>    injected_file_content_bytes = optional(number)<br>    injected_file_path_bytes    = optional(number)<br>    injected_files              = optional(number)<br>    key_pairs                   = optional(number)<br>    metadata_items              = optional(number)<br>    ram                         = optional(number)<br>    security_group_rules        = optional(number)<br>    security_groups             = optional(number)<br>    server_group_members        = optional(number)<br>    server_groups               = optional(number)<br>    cores                       = optional(number)<br>    instances                   = optional(number)<br>  }))</pre> | `[]` | no |
| <a name="input_servergroup_v2"></a> [servergroup\_v2](#input\_servergroup\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to obtain the V2 Compute client. If omitted, the region argument of the provider is used. Changing this creates a new server group.<br>name - (Required) A unique name for the server group. Changing this creates a new server group.<br>policies - (Optional) A list of exactly one policy name to associate with the server group. See the Policies section for more information. Changing this creates a new server group.<br>value\_specs - (Optional) Map of additional options.<br>rules - (Optional) The rules which are applied to specified policy. Currently, only the max\_server\_per\_host rule is supported for the anti-affinity policy.<br><br>Policies<br>affinity - All instances/servers launched in this group will be hosted on the same compute node.<br>anti-affinity - All instances/servers launched in this group will be hosted on different compute nodes.<br>soft-affinity - All instances/servers launched in this group will be hosted on the same compute node if possible, but if not possible they still will be scheduled instead of failure. To use this policy your OpenStack environment should support Compute service API 2.15 or above.<br>soft-anti-affinity - All instances/servers launched in this group will be hosted on different compute nodes if possible, but if not possible they still will be scheduled instead of failure. To use this policy your OpenStack environment should support Compute service API 2.15 or above. | <pre>list(object({<br>    id          = number<br>    name        = string<br>    policies    = optional(list(string))<br>    value_specs = optional(map(string))<br>    rules = optional(list(object({<br>      max_server_per_host = optional(number)<br>    })), [])<br>  }))</pre> | `[]` | no |
| <a name="input_volume_attach_v2"></a> [volume\_attach\_v2](#input\_volume\_attach\_v2) | The following arguments are supported:<br>region - (Optional) The region in which to obtain the V2 Compute client. A Compute client is needed to create a volume attachment. If omitted, the region argument of the provider is used. Changing this creates a new volume attachment.<br>instance\_id - (Required) The ID of the Instance to attach the Volume to.<br>volume\_id - (Required) The ID of the Volume to attach to an Instance.<br>device - (Optional) The device of the volume attachment (ex: /dev/vdc). NOTE: Being able to specify a device is dependent upon the hypervisor in use. There is a chance that the device specified in Terraform will not be the same device the hypervisor chose. If this happens, Terraform will wish to update the device upon subsequent applying which will cause the volume to be detached and reattached indefinitely. Please use with caution.<br>multiattach - (Optional) Enable attachment of multiattach-capable volumes.<br>vendor\_options - (Optional) Map of additional vendor-specific options. Supported options are described below.<br><br>The vendor\_options block supports:<br>ignore\_volume\_confirmation - (Optional) Boolean to control whether to ignore volume status confirmation of the attached volume. This can be helpful to work with some OpenStack clouds which don't have the Block Storage V3 API available. | <pre>list(object({<br>    id          = number<br>    instance_id = number<br>    volume_id   = string<br>    device      = optional(string)<br>    multiattach = optional(bool)<br>  }))</pre> | `[]` | no |
| <a name="input_volume_name"></a> [volume\_name](#input\_volume\_name) | n/a | `string` | `null` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_aggregate"></a> [aggregate](#output\_aggregate) | n/a |
| <a name="output_flavor"></a> [flavor](#output\_flavor) | n/a |
| <a name="output_instance"></a> [instance](#output\_instance) | n/a |
| <a name="output_keypair"></a> [keypair](#output\_keypair) | n/a |
| <a name="output_quotaset"></a> [quotaset](#output\_quotaset) | n/a |
| <a name="output_servergroup"></a> [servergroup](#output\_servergroup) | n/a |
| <a name="output_volume_attach"></a> [volume\_attach](#output\_volume\_attach) | n/a |
